import{r as o,c as N,b as D,f as S,g as P,j as k,h as A,k as C,i as y,R as e,L as B,N as F,A as b}from"./index-4435e46a.js";import{N as x,P as I}from"./NewsList-a4e37f98.js";import"./images-24b054ba.js";const O=()=>{const[f,d]=o.useState(!1),{allReads:n,isLoadingDBData:p,errorDB:r,getReads:g}=N(),{hasResults:h}=D(),E=S(),i=P(E),v=k({activeLinks:i}),{rebuildedNews:t}=A({activeLinks:i}),{sortedDates:c}=C({activeLinks:i}),R=y();o.useEffect(()=>{r&&r>=500&&R("/serverError")},[r]),o.useEffect(()=>{g()},[g]),o.useEffect(()=>{n&&n.length>0&&d(!0)},[n]);const l=c&&c.length>0?c:v,s=p||h==="loading",m=t.length===0||h==="empty",L=!s&&!m;return e.createElement(e.Fragment,null,s&&e.createElement(B,{variant:"generalSection"}),!s&&t&&e.createElement(F,{variant:"non-interactive",openToast:f,setOpenToast:d,title:"Monthly statistics",description:`${t.length} news added to Reads`}),L&&l&&l.length>0&&e.createElement("div",null,l.map(u=>e.createElement(b,{key:u,dateSeparator:u,position:"readPage"},e.createElement(x,{currentItems:t==null?void 0:t.filter(a=>(a==null?void 0:a.publishDate)!==void 0&&(a==null?void 0:a.publishDate)===u)})))),!s&&m&&e.createElement(I,{variant:"page"}))};export{O as default};
