import{r as t,R as i,b as L,f as M,g,d as v}from"./index-4916095c.js";import{P as C,N as I}from"./PageTemplate-9dfa9329.js";import"./images-a88e53aa.js";import"./Toast-7fbd0bf8.js";const S=({onLoadMore:s})=>{const e=t.useRef(null);return t.useEffect(()=>{const n=new IntersectionObserver(o=>{o[0].isIntersecting&&s()},{threshold:1});return e.current&&n.observe(e.current),()=>{e.current&&n.unobserve(e.current)}},[s]),i.createElement("div",{ref:e})},u=5,l=6,h=()=>{const[s,e]=t.useState(0),[n,o]=t.useState(!1),{isMobile:c,isNotMobile:f}=L(),d=M(),{rebuildedNews:r}=g(d);t.useEffect(()=>{r&&e(r.length)},[r]);const N=t.useMemo(()=>c?u:f?l:0,[]),[a,m]=t.useState(N),E=t.useMemo(()=>s>a,[s,a]),p=()=>{!E||n||(o(!0),m(w=>w+(c?u:l)),o(!1))};return{displayedNews:r==null?void 0:r.slice(0,a),handleLoadMore:p}},P=()=>{const{getFavourites:s,getSavedNews:e}=v(),{displayedNews:n,handleLoadMore:o}=h();return t.useEffect(()=>{s(),e()},[s,e]),i.createElement(C,null,i.createElement(I,{currentItems:n}),i.createElement(S,{onLoadMore:o}))};export{P as default};
