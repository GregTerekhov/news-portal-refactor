import{r as n,c as D,b as L,f as R,g as S,h as A,R as t,L as P,N as y,A as k}from"./index-c8c9acf2.js";import{N as C,P as N}from"./NewsList-9bf9f38a.js";import"./images-fc3c612e.js";const B=()=>{const[r,c]=n.useState(!1),{allReads:i,isLoadingDBData:p,getReads:l}=D(),{hasResults:u}=L(),d=R(),g=S(d),{rebuildedNews:e}=A({activeLinks:g});n.useEffect(()=>{l()},[l]),n.useEffect(()=>{i&&(c(!0),console.log("openToast",r))},[i]);const h=e==null?void 0:e.map(a=>a.publishDate).filter(a=>a!==void 0),f=new Set(h),v=Array.from(f).sort().reverse(),s=p||u==="loading",m=e.length===0||u==="empty",E=!s&&!m;return t.createElement(t.Fragment,null,s&&t.createElement(P,{variant:"generalSection"}),!s&&e&&t.createElement(y,{variant:"non-interactive",openToast:r,setOpenToast:c,title:"Monthly statistics",description:`${e.length} news added to Reads`}),E&&t.createElement("div",null,v.map(a=>t.createElement(k,{key:a,dateSeparator:a,position:"readPage"},t.createElement(C,{currentItems:e==null?void 0:e.filter(o=>(o==null?void 0:o.publishDate)!==void 0&&(o==null?void 0:o.publishDate)===a)})))),!s&&m&&t.createElement(N,{variant:"page"}))};export{B as default};
