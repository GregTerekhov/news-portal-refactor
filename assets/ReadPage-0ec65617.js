import{r as o,c as S,b as L,f as N,g as A,h as P,i as y,R as t,L as C,N as T,A as k}from"./index-e88ece3f.js";import{N as F,P as b}from"./NewsList-da4004d3.js";import"./images-7bd4e7d4.js";const O=()=>{const[l,i]=o.useState(!1),[c,u]=o.useState([]),{allReads:d,isLoadingDBData:f,getReads:g}=S(),{hasResults:h}=L(),E=N(),m=A(E),{rebuildedNews:e}=P({activeLinks:m}),{sortedDates:n}=y({activeLinks:m});o.useEffect(()=>{g()},[g]),o.useEffect(()=>{if(u(Array.from(R).sort().reverse()),n.length!==0){u(n);return}console.log("RTCON",c)},[n]),o.useEffect(()=>{d&&(i(!0),console.log("openToast",l))},[d]);const v=e==null?void 0:e.map(a=>a.publishDate).filter(a=>a!==void 0),R=new Set(v),r=f||h==="loading",p=e.length===0||h==="empty",D=!r&&!p;return t.createElement(t.Fragment,null,r&&t.createElement(C,{variant:"generalSection"}),!r&&e&&t.createElement(T,{variant:"non-interactive",openToast:l,setOpenToast:i,title:"Monthly statistics",description:`${e.length} news added to Reads`}),D&&c.length>0&&n.length>=0&&t.createElement("div",null,c.map(a=>t.createElement(k,{key:a,dateSeparator:a,position:"readPage"},t.createElement(F,{currentItems:e==null?void 0:e.filter(s=>(s==null?void 0:s.publishDate)!==void 0&&(s==null?void 0:s.publishDate)===a)})))),!r&&p&&t.createElement(b,{variant:"page"}))};export{O as default};
