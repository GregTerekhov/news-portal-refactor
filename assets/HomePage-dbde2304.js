import{u as P,R as a,P as C,S as N,a as I,b as L,r as w,c as H,d as R,e as W,f as z,L as $}from"./index-3763d413.js";import{P as j,N as K}from"./NewsList-c8f87543.js";import"./images-876db65a.js";const Q=({pageNumbers:n,currentPage:e,setCurrentPage:c})=>{const{breakpointsForMarkup:s}=P()??{breakpointsForMarkup:null},m=n.length,g=window.innerHeight,x=s!=null&&s.isNothing||s!=null&&s.isMobile?3:6,t=[],h=1,r=m,u=e-1,o=e+1,l=i=>a.createElement("li",{key:i,className:`${i===e?"active":""}`,onClick:()=>{c(i),window.scrollTo({top:0+g,left:0})}},a.createElement(C,{"aria-label":i.toString(),classNameButton:`h-10 border-accentBase font-medium transition-colors duration-500 ${i===e?"bg-accentBase text-contrastWhite":"text-darkBase dark:text-whiteBase dark:border-whiteBase"}`,variant:"Small"},i)),f=i=>a.createElement("li",{key:i,className:"ellipsis"},a.createElement("span",{className:"text-darkBase dark:text-whiteBase"},"..."));if(m<=x)for(let i=h;i<=r;i+=1)t.push(l(i));else e===h?(t.push(l(e)),t.push(l(o)),t.push(f("next")),t.push(l(r))):e===r?(t.push(l(h)),t.push(f("prev")),t.push(l(u)),t.push(l(e))):e>h&&e<r&&(e===2&&(t.push(f("prev")),t.push(l(e)),t.push(l(o)),t.push(f("next")),t.push(l(r))),e-1>h&&e+1!==r&&(t.push(f("prev")),t.push(l(u)),t.push(l(e)),t.push(l(o)),t.push(f("next"))),e+1===r&&(t.push(f("prev")),t.push(l(u)),t.push(l(e)),t.push(l(r))));const B=()=>{e>1&&(c(e-1),window.scrollTo({top:0+g,left:0}))},E=()=>{e<n.length&&(c(e+1),window.scrollTo({top:0+g,left:0}))};return a.createElement("div",{className:"flex justify-center items-center gap-2"},a.createElement(C,{id:"Previous page button",variant:"OtherButton",onHandleClick:B,width:"w-32"},a.createElement(N,{svgName:"icon-arrow-left",size:20,className:"fill-whiteBase"}),s!=null&&s.isTablet||s!=null&&s.isDesktop?a.createElement("span",{className:"text-base md:text-medium font-medium text-contrastWhite"},"Prev"):null),a.createElement("ul",{id:"page-numbers",className:"flex gap-2"},t),a.createElement(C,{id:"Next page button",variant:"OtherButton",onHandleClick:E,width:"w-32"},s!=null&&s.isTablet||s!=null&&s.isDesktop?a.createElement("span",{className:"text-base md:text-medium font-medium text-contrastWhite"},"Next"):null,a.createElement(N,{svgName:"icon-arrow-right",size:20,className:"stroke-whiteBase"})))},_=(n,e,c)=>{const s=[e];let m=n-e;for(;m>0;)s.push(c),m-=c;return s},q=(n,e)=>{const c=n&&n.slice(0,-1).reduce((m,g)=>m+g,0);return e-c},G=(n,e,c)=>_(n,e,c),J=(n,e)=>{try{return q(n,e)}catch(c){return console.error(c.message)}},U=n=>{const{breakpointsForMarkup:e}=P()||{breakpointsForMarkup:null},{popularNews:c,newsByKeyword:s,newsByCategory:m,newsByDate:g}=I(),{filteredNews:x}=L(),[t,h]=w.useState(1),[r,u]=w.useState([]),o=n&&(n==null?void 0:n.length)||0,l=(e==null?void 0:e.isNothing)||(e==null?void 0:e.isMobile),f=D(),B=S(),E=G(o,f,B),i=E[t-1]||0,y=J(E,o);w.useEffect(()=>{if(n&&(n==null?void 0:n.length)>0){const p=t*i-1>=o;let d,v;t===1?(d=t*i,v=d-i):t>1&&p&&y?(d=o,v=o-y):(d=t*i-1,v=d-i);const T=n.slice(v,d);u(T)}},[c,s,m,g,x,t]);function D(){return e!=null&&e.isNothing||e!=null&&e.isMobile?4:e!=null&&e.isTablet?7:8}function S(){return l?5:e!=null&&e.isTablet?8:9}const A=Math.ceil(t!==1&&l?o/i+1:o/i),O=Array.from({length:A},(p,d)=>d+1);return{currentItems:r,pageNumbers:O,currentPage:t,setCurrentPage:h}},Z=()=>{const{isLoadingAPIData:n,headline:e,fetchPopular:c}=I(),{isLoadingDBData:s,getSavedNews:m}=H(),g=!0,x=R(),t=W(x),{rebuildedNews:h}=z({activeLinks:t}),{hasResults:r}=L(),{currentItems:u,currentPage:o,pageNumbers:l,setCurrentPage:f}=U(h??[]);return w.useEffect(()=>{c("1"),m()},[c,m,g]),a.createElement("div",null,n||s&&h&&(u==null?void 0:u.length)===0?a.createElement($,{variant:"generalSection"}):a.createElement(a.Fragment,null,h&&h.length===0||r==="empty"?a.createElement(j,{variant:"page"}):a.createElement(a.Fragment,null,e&&a.createElement("h2",{className:"dark:text-whiteBase text-giant font-bold mb-6"},e),a.createElement(K,{currentItems:u,currentPage:o}),a.createElement(Q,{pageNumbers:l,currentPage:o,setCurrentPage:f}))))};export{Z as default};
