import{r,c as v,b as L,f as N,g as D,h as S,i as P,j as A,R as e,L as C,N as k,A as y}from"./index-89b59f7e.js";import{N as F,P as T}from"./NewsList-eed5cdb9.js";import"./images-b4d68eb0.js";const I=()=>{const[l,i]=r.useState(!1),{allReads:u,isLoadingDBData:p,getReads:d}=v(),{hasResults:g}=L(),f=N(),m=D(f),{rebuildedNews:t}=S({activeLinks:m}),E=P(),{sortedDates:o}=A({activeLinks:m});r.useEffect(()=>{d()},[d]),r.useEffect(()=>{u&&(i(!0),console.log("openToast",l))},[u]);const n=o&&o.length>0?o:E,s=p||g==="loading",h=t.length===0||g==="empty",R=!s&&!h;return e.createElement(e.Fragment,null,s&&e.createElement(C,{variant:"generalSection"}),!s&&t&&e.createElement(k,{variant:"non-interactive",openToast:l,setOpenToast:i,title:"Monthly statistics",description:`${t.length} news added to Reads`}),R&&n&&n.length>0&&e.createElement("div",null,n.map(c=>e.createElement(y,{key:c,dateSeparator:c,position:"readPage"},e.createElement(F,{currentItems:t==null?void 0:t.filter(a=>(a==null?void 0:a.publishDate)!==void 0&&(a==null?void 0:a.publishDate)===c)})))),!s&&h&&e.createElement(T,{variant:"page"}))};export{I as default};
