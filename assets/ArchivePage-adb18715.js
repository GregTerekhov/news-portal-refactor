import{i,j as y,R as e,S as c,c as x,d as u,r as h,L as f,A as b}from"./index-32171403.js";import{N as v,P as E}from"./NewsList-d9090cbb.js";import"./images-35aca745.js";const N=a=>{const r={};return a&&(a==null?void 0:a.length)>0&&a.forEach(t=>{const n=t==null?void 0:t.additionDate;if(n){const s=i(n,"LLLL/yyyy",{locale:y});r[s]||(r[s]=[]),r[s].push(t)}}),r},k=({logData:a})=>e.createElement("div",{className:"flex flex-col mb-6"},e.createElement("div",{className:"-m-1.5 overflow-x-auto"},e.createElement("div",{className:"p-1.5 min-w-full inline-block align-middle"},e.createElement("div",{className:"border rounded-lg divide-y divide-gray-200 dark:border-gray-700 dark:divide-gray-700"},e.createElement("div",{className:"py-3 px-4"},e.createElement("div",{className:"relative max-w-xs"},e.createElement("label",{className:"sr-only"},"Search"),e.createElement("input",{type:"text",name:"hs-table-with-pagination-search",id:"hs-table-with-pagination-search",className:"py-2 px-3 ps-9 block w-full border-greyAlt shadow-sm rounded-lg text-sm focus:z-10 focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-darkBase dark:border-gray-700 dark:text-gray-400 dark:focus:ring-gray-600",placeholder:"Search for news"}),e.createElement("div",{className:"absolute inset-y-0 start-0 flex items-center pointer-events-none ps-3"},e.createElement(c,{svgName:"icon-search",size:20,className:"fill-accentBase dark:fill-whiteBase"})))),e.createElement("div",{className:"overflow-hidden"},e.createElement("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},e.createElement("thead",{className:"bg-gray-50 dark:bg-gray-700"},e.createElement("tr",null,e.createElement("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase"},"Title"),e.createElement("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase"},"Category"),e.createElement("th",{scope:"col",className:"px-6 py-3 text-start text-xs font-medium text-gray-500 uppercase"},"Addition Date"),e.createElement("th",{scope:"col",className:"px-6 py-3 text-end text-xs font-medium text-gray-500 uppercase"},"Deletion Date"))),e.createElement("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700"},a&&a.map(({title:r,newsUrl:t,category:n,additionDate:s,deletionDate:l})=>e.createElement("tr",{key:t},e.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-gray-200"},e.createElement("a",{href:t},r)),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-gray-200"},n),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-gray-200"},i(s,"dd/MM/yyyy"),";"),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-gray-200"},i(l,"dd/MM/yyyy"))))))),e.createElement("div",{className:"py-1 px-4"},e.createElement("nav",{className:"flex items-center space-x-1"},e.createElement("button",{type:"button",className:"p-2.5 inline-flex items-center gap-x-2 text-sm rounded-full text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"},e.createElement("span",{"aria-hidden":"true"},e.createElement(c,{svgName:"icon-arrow-left",size:16,className:"stroke-accentBase dark:stroke-whiteBase"})),e.createElement("span",{className:"sr-only"},"Previous")),e.createElement("button",{type:"button",className:"min-w-[40px] flex justify-center items-center text-gray-800 hover:bg-gray-100 py-2.5 text-sm rounded-full disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10","aria-current":"page"},"1"),e.createElement("button",{type:"button",className:"min-w-[40px] flex justify-center items-center text-gray-800 hover:bg-gray-100 py-2.5 text-sm rounded-full disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10"},"2"),e.createElement("button",{type:"button",className:"min-w-[40px] flex justify-center items-center text-gray-800 hover:bg-gray-100 py-2.5 text-sm rounded-full disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10"},"3"),e.createElement("button",{type:"button",className:"p-2.5 inline-flex items-center gap-x-2 text-sm rounded-full text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"},e.createElement("span",{className:"sr-only"},"Next"),e.createElement("span",{"aria-hidden":"true"},e.createElement(c,{svgName:"icon-arrow-right",size:16,className:"stroke-accentBase fill-transparent dark:stroke-whiteBase"}))))))))),D=()=>{const{isLoadingDBData:a,allArchive:r,archiveHistoryLog:t,getHistoryLog:n,getArchives:s}=x(),{isAuthenticated:l}=u();h.useEffect(()=>{s(),t&&t.length>0&&n()},[t,s,n]);const p=N(r),o=a,d=!a&&r.length!==0;return l&&e.createElement(e.Fragment,null,o&&e.createElement(f,{variant:"page"}),d&&e.createElement(e.Fragment,null,e.createElement(k,{logData:t}),Object.entries(p).map(([m,g])=>e.createElement(b,{key:m,dateSeparator:m,position:"archivePage"},e.createElement(v,{currentItems:g})))),!o&&!d&&e.createElement(E,{variant:"page"}))};export{D as default};
