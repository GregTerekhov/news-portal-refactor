import{r as n,c as E,b as D,f as L,g as S,h as R,R as t,L as A,N as P,A as y}from"./index-a875f892.js";import{N as k,P as C}from"./NewsList-8b3655f8.js";import"./images-306e2c3f.js";const x=()=>{const[r,c]=n.useState(!1),{isLoadingDBData:m,getReads:i}=E(),{hasResults:l}=D(),p=L(),d=S(p),{rebuildedNews:e}=R({activeLinks:d});n.useEffect(()=>{i()},[i]),n.useEffect(()=>{e&&(c(!0),console.log("openToast",r))},[e]);const g=e==null?void 0:e.map(a=>a.publishDate).filter(a=>a!==void 0),h=new Set(g),f=Array.from(h).sort().reverse(),s=m||l==="loading",u=e.length===0||l==="empty",v=!s&&!u;return t.createElement(t.Fragment,null,s&&t.createElement(A,{variant:"generalSection"}),!s&&e&&t.createElement(P,{variant:"non-interactive",openToast:r,setOpenToast:c,title:"Monthly statistics",description:`${e.length} news added to Reads`}),v&&t.createElement("div",null,f.map(a=>t.createElement(y,{key:a,dateSeparator:a,position:"readPage"},t.createElement(k,{currentItems:e==null?void 0:e.filter(o=>(o==null?void 0:o.publishDate)!==void 0&&(o==null?void 0:o.publishDate)===a)})))),!s&&u&&t.createElement(C,{variant:"page"}))};export{x as default};
