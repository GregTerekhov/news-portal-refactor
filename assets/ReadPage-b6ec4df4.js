import{r as c,c as L,b as v,f as N,g as D,i as S,h as P,j as A,R as e,L as C,N as k,A as y}from"./index-f9a9e13f.js";import{N as F,P as b}from"./NewsList-a41757ef.js";import"./images-833587c6.js";const T=()=>{const[h,l]=c.useState(!1),{allReads:d,isLoadingDBData:p,getReads:u}=L(),{hasResults:g}=v(),f=N(),o=D(f),E=S({activeLinks:o}),{rebuildedNews:t}=P({activeLinks:o}),{sortedDates:n}=A({activeLinks:o});c.useEffect(()=>{u()},[u]),c.useEffect(()=>{d&&l(!0)},[d]);const i=n&&n.length>0?n:E,s=p||g==="loading",m=t.length===0||g==="empty",R=!s&&!m;return e.createElement(e.Fragment,null,s&&e.createElement(C,{variant:"generalSection"}),!s&&t&&e.createElement(k,{variant:"non-interactive",openToast:h,setOpenToast:l,title:"Monthly statistics",description:`${t.length} news added to Reads`}),R&&i&&i.length>0&&e.createElement("div",null,i.map(r=>e.createElement(y,{key:r,dateSeparator:r,position:"readPage"},e.createElement(F,{currentItems:t==null?void 0:t.filter(a=>(a==null?void 0:a.publishDate)!==void 0&&(a==null?void 0:a.publishDate)===r)})))),!s&&m&&e.createElement(b,{variant:"page"}))};export{T as default};
