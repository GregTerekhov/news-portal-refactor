import{u as P,R as a,P as C,S as N,a as I,b as T,r as w,c as H,d as R,e as W,f as z,g as $,h as j,L as q}from"./index-87386a79.js";import{P as K,N as Q}from"./NewsList-b5f0331d.js";import"./images-a4000cfe.js";const _=({pageNumbers:n,currentPage:e,setCurrentPage:c})=>{const{breakpointsForMarkup:s}=P()??{breakpointsForMarkup:null},h=n.length,f=window.innerHeight,x=s!=null&&s.isNothing||s!=null&&s.isMobile?3:6,t=[],r=1,o=h,g=e-1,m=e+1,l=i=>a.createElement("li",{key:i,className:`${i===e?"active":""}`,onClick:()=>{c(i),window.scrollTo({top:0+f,left:0})}},a.createElement(C,{"aria-label":i.toString(),classNameButton:`h-10 border-accentBase font-medium transition-colors duration-500 ${i===e?"bg-accentBase text-contrastWhite":"text-darkBase dark:text-whiteBase dark:border-whiteBase"}`,variant:"Small"},i)),u=i=>a.createElement("li",{key:i,className:"ellipsis"},a.createElement("span",{className:"text-darkBase dark:text-whiteBase"},"..."));if(h<=x)for(let i=r;i<=o;i+=1)t.push(l(i));else e===r?(t.push(l(e)),t.push(l(m)),t.push(u("next")),t.push(l(o))):e===o?(t.push(l(r)),t.push(u("prev")),t.push(l(g)),t.push(l(e))):e>r&&e<o&&(e===2&&(t.push(u("prev")),t.push(l(e)),t.push(l(m)),t.push(u("next")),t.push(l(o))),e-1>r&&e+1!==o&&(t.push(u("prev")),t.push(l(g)),t.push(l(e)),t.push(l(m)),t.push(u("next"))),e+1===o&&(t.push(u("prev")),t.push(l(g)),t.push(l(e)),t.push(l(o))));const B=()=>{e>1&&(c(e-1),window.scrollTo({top:0+f,left:0}))},E=()=>{e<n.length&&(c(e+1),window.scrollTo({top:0+f,left:0}))};return a.createElement("div",{className:"flex justify-center items-center gap-2"},a.createElement(C,{id:"Previous page button",variant:"OtherButton",onHandleClick:B,width:"w-32"},a.createElement(N,{svgName:"icon-arrow-left",size:20,className:"fill-whiteBase"}),s!=null&&s.isTablet||s!=null&&s.isDesktop?a.createElement("span",{className:"text-base md:text-medium font-medium text-contrastWhite"},"Prev"):null),a.createElement("ul",{id:"page-numbers",className:"flex gap-2"},t),a.createElement(C,{id:"Next page button",variant:"OtherButton",onHandleClick:E,width:"w-32"},s!=null&&s.isTablet||s!=null&&s.isDesktop?a.createElement("span",{className:"text-base md:text-medium font-medium text-contrastWhite"},"Next"):null,a.createElement(N,{svgName:"icon-arrow-right",size:20,className:"stroke-whiteBase"})))},G=(n,e,c)=>{const s=[e];let h=n-e;for(;h>0;)s.push(c),h-=c;return s},J=(n,e)=>{const c=n&&n.slice(0,-1).reduce((h,f)=>h+f,0);return e-c},U=(n,e,c)=>G(n,e,c),V=(n,e)=>{try{return J(n,e)}catch(c){return console.error(c.message)}},X=n=>{const{breakpointsForMarkup:e}=P()||{breakpointsForMarkup:null},{popularNews:c,newsByKeyword:s,newsByCategory:h,newsByDate:f}=I(),{filteredNews:x}=T(),[t,r]=w.useState(1),[o,g]=w.useState([]),m=n&&(n==null?void 0:n.length)||0,l=(e==null?void 0:e.isNothing)||(e==null?void 0:e.isMobile),u=L(),B=A(),E=U(m,u,B),i=E[t-1]||0,y=V(E,m);w.useEffect(()=>{if(n&&(n==null?void 0:n.length)>0){const p=t*i-1>=m;let d,v;t===1?(d=t*i,v=d-i):t>1&&p&&y?(d=m,v=m-y):(d=t*i-1,v=d-i);const O=n.slice(v,d);g(O)}},[c,s,h,f,x,t]);function L(){return e!=null&&e.isNothing||e!=null&&e.isMobile?4:e!=null&&e.isTablet?7:8}function A(){return l?5:e!=null&&e.isTablet?8:9}const D=Math.ceil(t!==1&&l?m/i+1:m/i),S=Array.from({length:D},(p,d)=>d+1);return{currentItems:o,pageNumbers:S,currentPage:t,setCurrentPage:r}},b=()=>{const{isLoadingAPIData:n,fetchPopular:e}=I(),{isLoadingDBData:c,getSavedNews:s}=H(),{isAuthenticated:h}=R(),{headline:f}=W(),x=z(),t=$(x),{rebuildedNews:r}=j({activeLinks:t}),{currentItems:o,currentPage:g,pageNumbers:m,setCurrentPage:l}=X(r??[]);return w.useEffect(()=>{e("1"),h&&s()},[e,s,h]),a.createElement("div",null,n||c&&r&&(o==null?void 0:o.length)===0?a.createElement(q,{variant:"generalSection"}):a.createElement(a.Fragment,null,r&&r.length===0?a.createElement(K,{variant:"page"}):a.createElement(a.Fragment,null,a.createElement("h2",{className:"dark:text-whiteBase text-giant font-bold mb-6"},f&&f),a.createElement(Q,{currentItems:o,currentPage:g}),a.createElement(_,{pageNumbers:m,currentPage:g,setCurrentPage:l}))))};export{b as default};
