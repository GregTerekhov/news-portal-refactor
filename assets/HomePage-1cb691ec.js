import{u as W,R as n,P as N,S as R,a as $,b as Q,r as L,c as G,d as J,e as U,f as V,g as X,h as Y,L as Z}from"./index-1a20b91d.js";import{P as _,N as b}from"./NewsList-1f2cfffe.js";import"./images-ddcc3a78.js";const F=({pageNumbers:c,currentPage:t,setCurrentPage:P})=>{const{breakpointsForMarkup:s}=W()??{breakpointsForMarkup:null},E=c.length,r=window.innerHeight,w=s!=null&&s.isNothing||s!=null&&s.isMobile?3:6,e=[],g=1,o=E,u=t-1,a=t+1,l=i=>n.createElement("li",{key:i,className:`${i===t?"active":""}`,onClick:()=>{P(i),window.scrollTo({top:0+r,left:0})}},n.createElement(N,{"aria-label":i.toString(),classNameButton:`h-10 border-accentBase font-medium transition-colors duration-500 ${i===t?"bg-accentBase text-contrastWhite":"text-darkBase dark:text-whiteBase dark:border-whiteBase"}`,variant:"Small",dataTooltipTarget:`tooltip-pagination-pages-${i.toString()}`,dataTooltipPlacement:"bottom",tooltipText:`Paginate news to page ${i.toString()}`},i)),d=i=>n.createElement("li",{key:i,className:"ellipsis"},n.createElement("span",{className:"text-darkBase dark:text-whiteBase"},"..."));if(E<=w)for(let i=g;i<=o;i+=1)e.push(l(i));else t===g?(e.push(l(t)),e.push(l(a)),e.push(d("next")),e.push(l(o))):t===o?(e.push(l(g)),e.push(d("prev")),e.push(l(u)),e.push(l(t))):t>g&&t<o&&(t===2&&(e.push(d("prev")),e.push(l(t)),e.push(l(a)),e.push(d("next")),e.push(l(o))),t-1>g&&t+1!==o&&(e.push(d("prev")),e.push(l(u)),e.push(l(t)),e.push(l(a)),e.push(d("next"))),t+1===o&&(e.push(d("prev")),e.push(l(u)),e.push(l(t)),e.push(l(o))));const p=()=>{t>1&&(P(t-1),window.scrollTo({top:0+r,left:0}))},T=()=>{t<c.length&&(P(t+1),window.scrollTo({top:0+r,left:0}))};return n.createElement("div",{className:"flex justify-center items-center gap-2"},n.createElement(N,{id:"Previous page button",variant:"OtherButton",onHandleClick:p,width:"w-32"},n.createElement(R,{svgName:"icon-arrow-left",size:20,className:"fill-whiteBase"}),s!=null&&s.isTablet||s!=null&&s.isDesktop?n.createElement("span",{className:"text-base md:text-medium font-medium text-contrastWhite"},"Prev"):null),n.createElement("ul",{id:"page-numbers",className:"flex gap-2"},e),n.createElement(N,{id:"Next page button",variant:"OtherButton",onHandleClick:T,width:"w-32"},s!=null&&s.isTablet||s!=null&&s.isDesktop?n.createElement("span",{className:"text-base md:text-medium font-medium text-contrastWhite"},"Next"):null,n.createElement(R,{svgName:"icon-arrow-right",size:20,className:"stroke-whiteBase"})))},M=c=>{const{breakpointsForMarkup:t}=W()||{breakpointsForMarkup:null},{popularNews:P,newsByKeyword:s,newsByCategory:E,newsByDate:r}=$(),{filteredNews:w}=Q(),[e,g]=L.useState(1),[o,u]=L.useState([]),a=c&&(c==null?void 0:c.length)||0,l=4,d=7,p=8,T=5,i=8,z=9,S=y(a,l,T),A=y(a,d,i),H=y(a,p,z),x=j(),B=q();L.useEffect(()=>{if(c&&(c==null?void 0:c.length)>0){const m=e*x-1>=a;let h,f;e===1?(h=e*x,f=h-x):e>1&&m&&B?(h=a,t!=null&&t.isNothing||t!=null&&t.isMobile?f=a-B.firstIndexForLastMobilePage:t!=null&&t.isTablet?f=a-B.firstIndexForLastTabletPage:f=a-B.firstIndexForLastDesktopPage):(h=e*x-1,f=h-x);const v=c.slice(f,h);u(v)}},[P,s,E,r,w,e]);function y(m,h,f){const v=[h];let C=m-h;for(;C>0;)v.push(f),C-=f;return v}function j(){return t!=null&&t.isMobile||t!=null&&t.isNothing?S[e-1]||0:t!=null&&t.isTablet?A[e-1]||0:H[e-1]||0}function D(m,h){const f=m&&m.slice(0,-1).reduce((C,K)=>C+K,0);return h-f}function q(){try{const m=D(S,a),h=D(A,a),f=D(H,a);return{firstIndexForLastMobilePage:m,firstIndexForLastTabletPage:h,firstIndexForLastDesktopPage:f}}catch(m){return console.error(m.message)}}const O=[];let I;e!==1&&(t!=null&&t.isNothing||t!=null&&t.isMobile)?I=Math.ceil(a/x+1):I=Math.ceil(a/x);for(let m=1;m<=I;m++)O.push(m);return{currentItems:o,pageNumbers:O,currentPage:e,setCurrentPage:g}},st=()=>{const{isLoadingAPIData:c,fetchPopular:t}=$(),{isLoadingDBData:P,getSavedNews:s}=G(),{isAuthenticated:E}=J(),{headline:r}=U(),w=V(),e=X(w),{rebuildedNews:g}=Y({activeLinks:e}),{currentItems:o,currentPage:u,pageNumbers:a,setCurrentPage:l}=M(g??[]);return L.useEffect(()=>{t("1"),E&&s()},[t,s,E]),n.createElement("div",null,c||P&&g&&(o==null?void 0:o.length)===0?n.createElement(Z,{variant:"generalSection"}):n.createElement(n.Fragment,null,g&&g.length===0?n.createElement(_,{variant:"page"}):n.createElement(n.Fragment,null,n.createElement("h2",{className:"dark:text-whiteBase text-giant font-bold mb-6"},r&&r),n.createElement(b,{currentItems:o,currentPage:u}),n.createElement(F,{pageNumbers:a,currentPage:u,setCurrentPage:l}))))};export{st as default};
