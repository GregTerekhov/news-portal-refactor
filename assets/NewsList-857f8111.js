import{o as I,p as X,r as b,q as Z,s as J,t as Q,R as a,S as B,I as m,P as T,V as H,u as P,H as k,L as F,c as j,e as Y,d as U,f as L,g as M,v,M as N,w as W}from"./index-6fd93497.js";import{g as ee,p as te,u as ae}from"./images-175067f1.js";const se=t=>t.weather.isLoading,ne=t=>t.weather.data,oe=t=>t.weather.weatherByHour,le=t=>t.weather.hasError,w=()=>{const t=I(se),e=I(ne),o=I(oe),s=I(le),n=X(),l=b.useCallback(r=>n(Z(r)),[n]),c=b.useCallback(r=>n(J(r)),[n]);return{isWeatherLoading:t,currentWeather:e,hourlyWeather:o,weatherError:s,getCurrentWeather:l,getHourlyWeather:c}},ce=({variant:t})=>{const e=I(Q),o=e==null?void 0:e.toString().includes("429"),s=window.devicePixelRatio||1,n=ee(te,s,window.innerWidth),l=ae((n==null?void 0:n.src)||"");return a.createElement(a.Fragment,null,t==="page"?a.createElement("div",{className:"flex flex-col items-center justify-center"},a.createElement("p",{className:"text-darkBase dark:text-whiteBase text-2xl font-bold tracking-smallTight mb-10 text-center md:text-5xl md:tracking-tighter md:w-[548px] transition-colors duration-500"},`${o?"It seems you have been send too much requests then its needed":"We haven’t found news from this category"}`),a.createElement("img",{src:l,alt:"No found news",width:n.width,height:n.height})):a.createElement("img",{src:l,alt:"No found news",width:n.width,height:n.height}))},G=()=>{const[t,e]=b.useState(!0),[o,s]=b.useState(!1),[n,l]=b.useState(null),[c,r]=b.useState(!1),{getCurrentWeather:i,getHourlyWeather:d}=w(),g="geolocation"in navigator;return b.useEffect(()=>{localStorage.getItem("geolocationPermission")&&(r(!0),l("granted"))},[n]),{isCelsius:t,hasGeolocationPermission:c,flippingCard:o?"rotate-y-180":"rotate-y-0",requestGeolocationPermission:()=>{g&&navigator.permissions.query({name:"geolocation"}).then(y=>{y.state==="granted"?(l("granted"),r(!0),localStorage.setItem("geolocationPermission","granted"),navigator.geolocation.getCurrentPosition(p=>{const E={latitude:p.coords.latitude,longitude:p.coords.longitude};i(E),d(E)})):y.state==="prompt"?(l("prompt"),navigator.geolocation.getCurrentPosition(p=>{r(!0),localStorage.setItem("geolocationPermission","granted");const E={latitude:p.coords.latitude,longitude:p.coords.longitude};i(E),d(E)},p=>{switch(r(!1),p.code){case p.PERMISSION_DENIED:console.error("User denied access to geolocation");break;case p.POSITION_UNAVAILABLE:console.error("Geolocation information is unavailable");break;case p.TIMEOUT:console.error("Geolocation access request timed out");break;default:console.error("An unknown error occurred while getting geolocation");break}})):(r(!1),l("denied"),localStorage.removeItem("geolocationPermission"))})},toggleTemperatureScale:()=>{e(!t)},flipWeatherDetails:()=>{s(!o)},statePermission:n}},ie=({showError:t})=>{const{hasGeolocationPermission:e,requestGeolocationPermission:o,statePermission:s}=G();return a.createElement(a.Fragment,null,a.createElement("h2",{className:"text-medium text-whiteBase md:text-2xl lg:text-4xl"},t?"Server error. Please try again later when you reload the page":"What a pity, this could be your weather"),a.createElement("span",{className:`mt-20 ${t?"flex justify-center":"mb-28 block"}`},a.createElement(B,{svgName:"icon-moon",size:m.ultraIcon156,className:"fill-transparent stroke-greyBase"})),!t&&a.createElement(T,{id:"Geolocation permission button",variant:H.Primary,onHandleClick:o,classNameButton:"border border-solid border-whiteBase"},!s||s==="prompt"?"Give permission for your geolocation":e?"Get the weather for your region":s==="denied"&&"Permission denied"))},re=({toggleTemperatureScale:t,currentWeather:e,isCelsius:o})=>{var n,l,c,r,i,d,g,h;const{breakpointsForMarkup:s}=P()??{breakpointsForMarkup:null};return a.createElement("div",{className:"mx-auto flex cursor-pointer items-center justify-evenly gap-5",onClick:t},a.createElement("div",{className:'relative w-[83px] text-center after:absolute after:-right-2 after:top-0 after:h-full after:w-px after:bg-white after:content-[""] md:w-[96px]'},a.createElement("p",{className:"w-full font-weather text-monstrous text-contrastWhite md:text-[64px]"},(e==null?void 0:e.main)!==void 0&&(o?Math.round((n=e==null?void 0:e.main)==null?void 0:n.temp)+"°":Math.round(((l=e==null?void 0:e.main)==null?void 0:l.temp)*9/5+32)+"°"))),a.createElement("div",null,(e==null?void 0:e.weather)&&((c=e==null?void 0:e.weather[0])==null?void 0:c.main)&&a.createElement("p",{className:"font-weather text-3xl text-contrastWhite md:text-4.5xl"},(r=e==null?void 0:e.weather[0])==null?void 0:r.main),a.createElement("p",{className:"mb-2.5 font-weather text-base text-contrastWhite md:text-2xl"},"Feels like"," ",o?((i=e==null?void 0:e.main)==null?void 0:i.feels_like)&&Math.round((d=e==null?void 0:e.main)==null?void 0:d.feels_like)+"°C":((g=e==null?void 0:e.main)==null?void 0:g.feels_like)&&Math.round(((h=e==null?void 0:e.main)==null?void 0:h.feels_like)*9/5+32)+"°F"),a.createElement("div",{className:"flex items-center gap-1 rounded-lg bg-weatherForeground px-2 py-[9px] text-contrastWhite md:gap-2 md:pb-[9px] md:pl-[7px] md:pr-[17px] md:pt-[10px]"},a.createElement(B,{svgName:"icon-location",size:s!=null&&s.isNothing||s!=null&&s.isMobile?m.smIcon20:m.mdIcon27,className:"fill-whiteBase"}),a.createElement("p",{className:"text-base text-contrastWhite md:text-2xl"},e==null?void 0:e.name))))},me={"-43200":"-12:00","-39600":"-11:00","-36000":"-10:00","-34200":"-09:30","-32400":"-09:00","-28800":"-08:00","-25200":"-07:00","-21600":"-06:00","-18000":"-05:00","-16200":"-04:30","-14400":"-04:00","-12600":"-03:30","-10800":"-03:00","-7200":"-02:00","-3600":"-01:00",0:"00:00",3600:"+01:00",7200:"+02:00",10800:"+03:00",12600:"+03:30",14400:"+04:00",16200:"+04:30",18e3:"+05:00",19800:"+05:30",20700:"+05:45",21600:"+06:00",23400:"+06:30",25200:"+07:00",28800:"+08:00",32400:"+09:00",34200:"+09:30",36e3:"+10:00",37800:"+10:30",39600:"+11:00",41400:"+11:30",43200:"+12:00",45900:"+12:45",46800:"+13:00",50400:"+14:00"};function D(t){const e=new Date(t*1e3),o=e.getHours(),s=e.getMinutes(),n=String(o).padStart(2,"0"),l=String(s).padStart(2,"0");return`${n}:${l}`}function de(t){const e=String(t);return me[e]}function V(t){const e=t*.75006;return Math.floor(e)}function ue(t){return t/1e3}function pe(t){let e;const o=[{min:0,max:.2,scale:"0"},{min:.3,max:1.5,scale:"1"},{min:1.6,max:3.3,scale:"2"},{min:3.4,max:5.4,scale:"3"},{min:5.5,max:7.9,scale:"4"},{min:8,max:10.7,scale:"5"},{min:10.8,max:13.8,scale:"6"},{min:13.9,max:17.1,scale:"7"},{min:17.2,max:20.7,scale:"8"},{min:20.8,max:24.4,scale:"9"},{min:24.5,max:28.4,scale:"10"},{min:28.5,max:32.6,scale:"11"},{min:32.7,max:Number.MAX_SAFE_INTEGER,scale:"12"}];return t&&(e=o.find(s=>t>=s.min&&t<=s.max)),e?e==null?void 0:e.scale:""}function ge(){const t=new Date,e=t.getHours(),o=t.getMinutes(),s=c=>c<10?`0${c}`:c.toString(),n=s(e),l=s(o);return`${n}:${l}`}function fe(){const t={Sun:"Sunday",Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thu:"Thursday",Fri:"Friday",Sat:"Saturday"},e=new Date,o=t[e.toDateString().slice(0,3)],s=ge(),n=e.toDateString().slice(4).slice(0,4),l=e.toDateString().slice(8).slice(0,2),c=e.toDateString().slice(11),r=`${s} | ${l} ${n} ${c}`;return{days:o,dateNow:r}}const xe=(t,e)=>{var s,n,l,c,r,i,d;return[{icon:"icon-earth",iconSize:t?m.xsIcon16:m.mdIcon24,value:`${de(e==null?void 0:e.timezone)}`,label:"Greenwich mean time",hint:"GMT time",justifyItemClass:"justify-start",subTextValue:"UTC"},{icon:"icon-humidity",iconSize:t?m.smIcon18:m.lgIcon30,value:`${(s=e==null?void 0:e.main)==null?void 0:s.humidity}`,label:"Humidity in percent",hint:"Humidity (%)",justifyItemClass:"justify-end",subTextValue:"%"},{icon:"icon-pressure",iconSize:t?m.smIcon18:m.lgIcon30,value:`${V((n=e==null?void 0:e.main)==null?void 0:n.pressure)}`,label:"Atmospheric pressure in mm Hg",hint:"Atmospheric pressure (mm.Hg)",justifyItemClass:"justify-start",subTextValue:"mm.Hg"},{icon:"icon-pressure",iconSize:t?m.smIcon18:m.lgIcon30,value:`${(l=e==null?void 0:e.main)==null?void 0:l.pressure}`,label:"Atmospheric pressure in hPa",hint:"Atmospheric pressure (HPa)",justifyItemClass:"justify-end",subTextValue:"hPa"},{icon:"icon-sunrise",iconSize:t?m.smIcon20:m.lgIcon30,value:`${D((c=e==null?void 0:e.sys)==null?void 0:c.sunrise)}`,label:"Sunrise time",hint:"Sunrise time",justifyItemClass:"justify-start",subTextValue:"AM"},{icon:"icon-sunset",iconSize:t?m.smIcon20:m.lgIcon30,value:`${D((r=e==null?void 0:e.sys)==null?void 0:r.sunset)}`,label:"Sunset time",hint:"Sunset time",justifyItemClass:"justify-end",subTextValue:"PM"},{icon:"icon-eye-opened",iconSize:t?m.smIcon20:m.lgIcon30,value:`${ue(e==null?void 0:e.visibility)}`,label:"Road visibility",hint:"Road visibility",justifyItemClass:"justify-start",subTextValue:"km"},{icon:"icon-weather-wind",iconSize:t?m.smIcon20:m.lgIcon30,value:`${(i=e==null?void 0:e.wind)==null?void 0:i.speed}`,label:"Wind speed in metre per seconds",hint:`Wind speed (m/s). (${pe((d=e==null?void 0:e.wind)==null?void 0:d.speed)} on the Beaufort scale)`,justifyItemClass:"justify-end",subTextValue:"m/s"}]},he=()=>[{label:"Temperature in °C",icon:"icon-thermometer",iconSize:m.mdIcon24,iconColorStyles:"fill-whiteBase",renderCell:Ee},{label:"Precipitation and weather",icon:"icon-sun",iconSize:m.mdIcon24,iconColorStyles:"stroke-whiteBase fill-transparent",renderCell:Ce},{label:"Humidity (%)",icon:"icon-humidity",iconSize:m.mdIcon28,iconColorStyles:"fill-whiteBase",renderCell:Be},{label:"Pressure (mm.Hg)",icon:"icon-pressure",iconSize:m.mdIcon24,iconColorStyles:"fill-whiteBase",renderCell:Se},{label:"Wind speed (m/s)",icon:"icon-weather-wind",iconSize:m.mdIcon24,iconColorStyles:"fill-whiteBase",renderCell:Ie}],ye=()=>{const{hourlyWeather:t}=w(),{breakpointsForMarkup:e}=P()??{breakpointsForMarkup:null},o=he();return a.createElement("div",{className:"rows-[1/1] col-[1/1] flex h-full w-full bg-accentBase duration-500 ease-in backface-hidden rotate-y-180"},a.createElement("table",{className:"h-full min-w-full border-separate border border-transparent bg-accentBase"},a.createElement("thead",{className:"h-10"},a.createElement(k,{label:"Time",side:"top",sideOffset:0,ariaLabel:"Time interval (3 hours)",contentClass:"border border-solid border-whiteBase rounded-xl text-small md:text-medium px-2 text-whiteBase bg-accentAlt/[.8]"},a.createElement("tr",null,a.createElement("th",{className:"w-10 pr-2"},a.createElement(B,{svgName:"icon-time",size:e!=null&&e.isNothing||e!=null&&e.isMobile?m.smIcon20:m.mdIcon24,className:"fill-whiteBase"})),t&&Array.isArray(t)&&(t==null?void 0:t.map(s=>{const n=D(s==null?void 0:s.dt);return a.createElement("th",{key:s==null?void 0:s.dt,scope:"col",className:"-rotate-90 whitespace-nowrap text-center text-small text-whiteBase md:text-base"},n)}))))),a.createElement("tbody",null,o.map(({label:s,icon:n,iconColorStyles:l,iconSize:c,renderCell:r})=>a.createElement(k,{key:n,label:s,side:"top",sideOffset:0,ariaLabel:`Info about ${s} by time interval`,contentClass:"border border-solid border-whiteBase rounded-xl text-small md:text-medium px-2 text-whiteBase bg-accentAlt/[.8]"},a.createElement("tr",null,a.createElement("th",{scope:"row",className:"w-10 pr-2"},a.createElement(B,{svgName:n,size:e!=null&&e.isNothing||e!=null&&e.isMobile?m.smIcon20:c,className:l})),t&&Array.isArray(t)&&t.map(i=>a.createElement(a.Fragment,{key:i==null?void 0:i.dt},r(i)))))))))},be=()=>{const{currentWeather:t}=w(),{breakpointsForMarkup:e}=P()??{breakpointsForMarkup:null},{days:o,dateNow:s}=fe(),n=(e==null?void 0:e.isNothing)||(e==null?void 0:e.isMobile),l=xe(n,t);return a.createElement("div",{className:"rows-[1/1] col-[1/1] flex h-full w-full flex-col justify-between gap-3 backface-hidden"},a.createElement("div",{className:"mb-3 text-center"},a.createElement("p",{className:"font-weather text-3.5xl text-contrastWhite md:text-4.5xl"},o),a.createElement("p",{className:"text-2.5xl font-weather text-contrastWhite md:text-3.5xl"},s)),a.createElement("ul",{className:"grid grid-cols-2 grid-rows-2 gap-y-3.5"},Array.isArray(l)&&l.map(({icon:c,iconSize:r,value:i,label:d,hint:g,justifyItemClass:h,subTextValue:u})=>a.createElement("li",{key:d},a.createElement(k,{label:g,side:"top",align:h==="justify-end"?"end":"start",sideOffset:4,ariaLabel:`Info about ${d} for current time`,contentClass:"border border-solid border-whiteBase rounded-xl text-small md:text-medium px-2 text-whiteBase bg-accentAlt/[.8]"},a.createElement("div",{className:` flex items-center gap-3 text-base text-contrastWhite md:text-medium ${h}`},a.createElement("div",{className:`${h==="justify-end"?"order-last":"order-1"}`},a.createElement(B,{svgName:c,size:r,className:"fill-whiteBase"})),a.createElement("p",{className:"flex items-baseline gap-x-1 even:order-1"},i,a.createElement("span",{className:"text-xs"},u))))))))},Ee=t=>{var e;return a.createElement("td",{className:"py-1.5 text-center text-small text-whiteBase md:py-4 md:text-base"},Math.ceil((e=t==null?void 0:t.main)==null?void 0:e.temp),"°C")},Ce=t=>{var e,o,s,n;return a.createElement("td",{className:"h-[35px]"},a.createElement("img",{className:"cover",src:`https://openweathermap.org/img/wn/${(o=(e=t==null?void 0:t.weather)==null?void 0:e[0])==null?void 0:o.icon}@2x.png`,alt:(n=(s=t==null?void 0:t.weather)==null?void 0:s[0])==null?void 0:n.description}))},Be=t=>{var e;return a.createElement("td",{className:"py-1.5 text-center text-small text-whiteBase md:py-4 md:text-base"},(e=t==null?void 0:t.main)==null?void 0:e.humidity)},Se=t=>{var e;return a.createElement("td",{className:"py-1.5 text-center text-small text-whiteBase md:py-4 md:text-base"},V((e=t==null?void 0:t.main)==null?void 0:e.pressure))},Ie=t=>{var e;return a.createElement("td",{className:"py-1.5 text-center text-small text-whiteBase md:py-4 md:text-base"},(e=t==null?void 0:t.wind)==null?void 0:e.speed)},we=()=>{var h,u,f;const{hasGeolocationPermission:t,isCelsius:e,flippingCard:o,toggleTemperatureScale:s,flipWeatherDetails:n}=G(),{isWeatherLoading:l,currentWeather:c,weatherError:r}=w(),i=c&&Object.keys(c).length===0,d=l&&t,g=r&&((h=r==null?void 0:r.cod)==null?void 0:h.includes("5"));return a.createElement("div",{className:`${!l&&i&&!g?"flex flex-col items-center justify-between text-center py-10 px-6 md:px-10":g?"text-center py-10 px-6 md:px-10":"py-8 px-5 md:pt-10 md:px-8"}  bg-accentBase w-full hg:w-[442px] h-full`},!l&&i||g?a.createElement(ie,{showError:g}):d?a.createElement(F,{variant:"element"}):!l&&!i&&t&&a.createElement(a.Fragment,null,a.createElement(re,{toggleTemperatureScale:s,currentWeather:c,isCelsius:e}),(c==null?void 0:c.weather)&&(c==null?void 0:c.weather[0].icon)&&a.createElement("img",{className:"m-auto w-32 h-32 md:w-[165px] md:h-[165px] hg:w-[180px] hg:h-[180px]",src:`https://openweathermap.org/img/wn/${c==null?void 0:c.weather[0].icon}@2x.png`,alt:(f=(u=c==null?void 0:c.weather)==null?void 0:u[0])==null?void 0:f.description}),a.createElement("div",{className:"w-full h-56 perspective-10 cursor-pointer",onClick:n},a.createElement("div",{className:`w-full h-full transition-transform grid grid-cols-1 grid-rows-1 transform-style-3d ${o}`},a.createElement(be,null),a.createElement(ye,null)))))},ke=({isArchiveActive:t,isAuthenticated:e,liveNews:o,savedNews:s,allArchive:n})=>{const[l,c]=b.useState(()=>g()),[r,i]=b.useState(()=>h());b.useEffect(()=>{if(e){if(t){if(t&&n&&n.length!==0){const u=n.find(f=>f.newsUrl===o.newsUrl);d(u)}}else if(s&&(o==null?void 0:o.newsUrl)!==void 0&&(s==null?void 0:s.length)!==0){const u=s==null?void 0:s.find(f=>f.newsUrl===(o==null?void 0:o.newsUrl));d(u)}}},[s,n,e,o]);function d(u){const f=u==null?void 0:u.isFavourite,C=u==null?void 0:u.hasRead;c(f??!1),i(C??!1)}function g(){const f=(t?n:s).find(C=>C.newsUrl===(o==null?void 0:o.newsUrl));return(f==null?void 0:f.isFavourite)??!1}function h(){const f=(t?n:s).find(C=>C.newsUrl===(o==null?void 0:o.newsUrl));return(f==null?void 0:f.hasRead)??!1}return{isFavourite:l,hasRead:r,setIsFavourite:c,setHasRead:i}},De=({isArchiveActive:t,liveNews:e,setIsFavourite:o,setHasRead:s})=>{const[n,l]=b.useState(!1),[c,r]=b.useState(!1),{savedNews:i,updateSavedNews:d,addVotedNews:g,removeNews:h,removeFavouriteNews:u}=j(),{setOpenToast:f}=Y();b.useEffect(()=>{n&&i&&(g(i),l(!1))},[n,g]);const C=i&&e&&(e==null?void 0:e.newsUrl)!==void 0&&!t,y=i==null?void 0:i.find(x=>x.newsUrl===e.newsUrl),p=y==null?void 0:y.isFavourite,E=y==null?void 0:y.hasRead,R=new Date().getTime(),$=async()=>{o(!0);const x={...e,isFavourite:!0,additionDate:R};await d(x)},A=async()=>{if(o(!p),!p&&E){const x={...e,isFavourite:!0};await d(x)}else if(p&&!E){const x={...e,isFavourite:!1,hasRead:E,additionDate:null};await d(x),u((e==null?void 0:e.newsUrl)||"")}else if(p&&E){const x={...e,isFavourite:!1,hasRead:E};await d(x),u((e==null?void 0:e.newsUrl)||"")}},O=b.useCallback(async x=>{x.stopPropagation(),x.preventDefault(),C&&(S(),i.length===0||!y?$():A())},[C,y,i,S,$,A]),_=b.useCallback(async()=>{if(C){if(i.length===0||!y){s(!0),S();const x={...e,hasRead:!0,additionDate:R};await d(x)}else if(!E&&p){s(!0),S();const x={...e,hasRead:!0};await d(x)}else if(E===!0)return}},[t,S,i,d]);function S(){l(!0)}return{isDeleted:c,handleChangeFavourites:O,handleReadNews:_,handleDeleteNews:async(x,q)=>{x.stopPropagation(),x.preventDefault();const K=(await h(q)).payload,{message:z}=K;z&&z==="Remove news success"&&(f(!0),r(!0))}}},Te=({liveNews:t,isArchiveActive:e})=>{const{savedNews:o,allArchive:s}=j(),{isAuthenticated:n}=U(),{isFavourite:l,hasRead:c,setIsFavourite:r,setHasRead:i}=ke({isArchiveActive:e,isAuthenticated:n,liveNews:t,savedNews:o,allArchive:s}),{isDeleted:d,handleChangeFavourites:g,handleReadNews:h,handleDeleteNews:u}=De({isArchiveActive:e,isAuthenticated:n,liveNews:t,setIsFavourite:r,setHasRead:i});return{isFavourite:l,hasRead:c,isDeleted:d,handleChangeFavourites:g,handleReadNews:h,handleDeleteNews:u}},He=({myButtonRef:t,handleOpenConfirm:e})=>a.createElement(k,{label:"Delete news from archive",side:"bottom",sideOffset:16,ariaLabel:"Delete news from archive",contentClass:"border border-solid border-whiteBase rounded-xl text-small md:text-medium px-2 text-whiteBase bg-accentAlt/[.8]"},a.createElement("div",null,a.createElement(T,{ref:t,onHandleClick:e,variant:H.Small,hasIcon:!0,svgName:"icon-close",svgSize:24,classNameIcon:"stroke-whiteBase",ariaLabel:"Delete news from archive button",classNameButton:"absolute z-40 top-3 right-3 bg-accentBase/[.8] py-1.5"}))),Pe=({handleDeleteNews:t,handleClose:e,newsId:o})=>{const n=[{onClick:l=>e(l,!1),id:"Cancel deletion the news",label:"Cancel"},{onClick:async l=>{await t(l,o)},id:"Delete selected news",label:"Delete"}];return a.createElement("div",null,a.createElement("h3",{className:"text-2xl text-darkBase dark:text-whiteBase mb-4 md:text-4xl md:mb-6"},"Delete news"),a.createElement("p",{className:"text-medium text-darkBase dark:text-whiteBase mb-6 md:text-xl md:mb-10"},"Are you sure you want to delete this news?"),a.createElement("ul",{className:"max-md:space-y-4 md:flex md:justify-between md:items-center md:gap-8"},n.map(({onClick:l,id:c,label:r})=>a.createElement("li",{key:r,className:"w-full"},a.createElement(T,{variant:H.Primary,onHandleClick:l,id:c,classNameButton:"md:text-xl"},r)))))},Re=({liveNews:t})=>a.createElement("div",{className:"mt-4 px-4"},a.createElement("p",{className:"mb-2 line-clamp-1 text-end text-small leading-tight text-darkBase dark:text-whiteBase lg:text-base"},t!=null&&t.author?`By ${t==null?void 0:t.author}`:`${t==null?void 0:t.materialType}`),a.createElement("h2",{className:"mb-4 line-clamp-3 h-[100px] text-3xl font-bold leading-tight tracking-mediumTight dark:text-whiteBase md:h-[132px] md:text-4xl md:tracking-tighter"},t==null?void 0:t.title),a.createElement("p",{className:"mb-4 line-clamp-3 h-[57px] text-base leading-tight text-darkBase dark:text-whiteBase md:h-[66px] md:text-medium"},t==null?void 0:t.description),a.createElement("div",{className:"flex justify-between"},a.createElement("p",{className:"text-base text-greyAlt md:text-medium"},t==null?void 0:t.publishDate),a.createElement("div",{className:"flex translate-x-full items-center gap-2 rounded-2xl bg-accentAlt pr-2 transition-all duration-500 group-hover:translate-x-0 group-hover:bg-accentAlt dark:bg-transparent"},a.createElement(B,{svgName:"icon-double-arrow",size:m.xsIcon16,className:"fill-whiteBase"}),a.createElement("p",{className:"text-base text-whiteBase transition-colors duration-500 md:text-medium"},"Click for read more...")))),$e=({onHandleClick:t,isFavourite:e,buttonData:o})=>{const s=L(),{isArchiveActive:n}=M(s),l=e?"fill-accentBase stroke-accentBase":"stroke-accentBase fill-none";return a.createElement("button",{id:o==null?void 0:o.id,type:"button",className:`absolute bottom-3 right-2 z-20 flex items-center gap-1 rounded-3xl bg-contrastWhite px-3 py-1.5 ${l} ${n?"":"hover:bg-accentBase hover:stroke-whiteBase hover:text-whiteBase"} duration-250 text-small font-medium text-darkBase transition-colors`,onClick:t},n?e?"Favourited":"Not in favourites":e?"Remove from favorite":"Add to favorite",a.createElement(B,{svgName:"icon-heart",size:m.xsIcon16,className:"fill-inherit stroke-inherit"}))},Ae=({liveNews:t={}})=>{const{isAuthenticated:e}=U(),{isOpenModal:o,toggleModal:s,popUpRef:n}=v(),l=a.createRef(),c=L(),{isHomeActive:r,isArchiveActive:i}=M(c),{isFavourite:d,hasRead:g,handleChangeFavourites:h,handleReadNews:u,handleDeleteNews:f}=Te({liveNews:t,isArchiveActive:i}),C=async p=>{t._id&&await f(p,t._id)},y=r||i;return a.createElement(a.Fragment,null,t&&(t==null?void 0:t.newsUrl)&&a.createElement("a",{rel:"noopener noreferrer",className:"group block transition-colors duration-500",href:t==null?void 0:t.newsUrl,target:"_blank",onClick:e?u:void 0},a.createElement("div",{className:`${e&&g&&y?"absolute z-20 h-full w-full bg-whiteBase/[.4]":"hidden"}`}),i?a.createElement(He,{myButtonRef:l,handleOpenConfirm:p=>s(p,!0)}):null,a.createElement("p",{className:"absolute left-0 top-10 z-20 rounded-r bg-accentBase/[.7] px-2 py-1 text-small font-medium text-contrastWhite"},t==null?void 0:t.category," / ",t==null?void 0:t.materialType),e&&g&&a.createElement("p",{className:"absolute right-14 top-3.5 z-10 flex items-center gap-1 text-base font-bold text-readBase md:top-5"},"Already read",a.createElement(B,{svgName:"icon-check",size:m.smIcon18,className:"fill-readBase"})),a.createElement("div",{className:"relative flex h-[395px] items-center justify-center overflow-hidden rounded-[10px]"},t&&(t!=null&&t.imgLink)?a.createElement("img",{className:"absolute h-full max-w-none rounded-xl object-cover",src:t==null?void 0:t.imgLink,alt:t!=null&&t.imgAlt?t==null?void 0:t.imgAlt:"plug image"}):a.createElement(ce,{variant:"card"}),e&&a.createElement(a.Fragment,null,a.createElement($e,{onHandleClick:h,isFavourite:d,buttonData:{id:`Add ${t==null?void 0:t.newsUrl} to favourites or remove from them`}}))),a.createElement(Re,{liveNews:t})),o&&a.createElement(N,{closeModal:s,modalRef:n,variant:W.DeleteNews},a.createElement(Pe,{handleDeleteNews:C,newsId:t._id,handleClose:p=>s(p)})))},Le=({currentItems:t,currentPage:e})=>{const{isWeatherLoading:o}=w();return a.createElement("ul",{className:"mb-10 max-md:space-y-7 md:mb-12 md:grid md:grid-cols-2 md:gap-[30px] lg:mb-[60px] lg:grid-cols-3 lg:gap-x-8 lg:gap-y-10 hg:gap-10"},e&&e===1&&a.createElement("li",{className:"overflow-hidden rounded-[10px] shadow-card transition-colors duration-500 dark:shadow-darkCard max-md:h-[515px] md:col-start-2 lg:col-start-3"},o?a.createElement(F,{variant:"element"}):a.createElement(we,null)),t&&t.map((s,n)=>a.createElement("li",{key:s.newsUrl,className:`relative h-[655px] w-72 overflow-hidden rounded-[10px] shadow-card transition-colors duration-500 dark:shadow-darkCard md:h-[700px] md:w-[353px] lg:w-[395px] hg:w-[442px] ${n===0&&"md:col-start-1 md:row-start-1 lg:col-start-1"} ${n===1&&"lg:col-start-2 lg:row-start-1"}`},a.createElement(Ae,{liveNews:s}))))};export{Le as N,ce as P};
