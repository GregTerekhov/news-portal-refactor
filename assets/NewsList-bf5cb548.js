import{m as H,n as V,r as g,o as O,p as _,R as a,S as T,P as z,u as w,H as P,L as U,c as F,e as q,d as I,f as M,g as j,q as K,M as X}from"./index-75272f69.js";import{g as J,p as Q,u as Y}from"./images-00f47126.js";const Z=e=>e.weather.isLoading,v=e=>e.weather.data,W=e=>e.weather.weatherByHour,N=e=>e.weather.hasError,R=()=>{const e=H(Z),t=H(v),n=H(W),s=H(N),o=V(),r=g.useCallback(m=>o(O(m)),[o]),l=g.useCallback(m=>o(_(m)),[o]);return{isWeatherLoading:e,currentWeather:t,hourlyWeather:n,weatherError:s,getCurrentWeather:r,getHourlyWeather:l}},ee=({variant:e})=>{const t=window.devicePixelRatio||1,n=J(Q,t,window.innerWidth),s=Y((n==null?void 0:n.src)||"");return a.createElement(a.Fragment,null,e==="page"?a.createElement("div",{className:"flex flex-col items-center justify-center"},a.createElement("p",{className:"text-darkBase dark:text-whiteBase text-2xl font-bold tracking-smallTight mb-10 text-center md:text-5xl md:tracking-tighter md:w-[548px] transition-colors duration-500"},"We haven’t found news from this category"),a.createElement("img",{src:s,alt:"No found news",width:n.width,height:n.height})):a.createElement("img",{src:s,alt:"No found news",width:n.width,height:n.height}))},G=()=>{const[e,t]=g.useState(!0),[n,s]=g.useState(!1),[o,r]=g.useState(null),[l,m]=g.useState(!1),{getCurrentWeather:i,getHourlyWeather:d}=R(),p="geolocation"in navigator;return g.useEffect(()=>{localStorage.getItem("geolocationPermission")&&(m(!0),r("granted"))},[o]),{isCelsius:e,hasGeolocationPermission:l,flippingCard:n?"rotate-y-180":"rotate-y-0",requestGeolocationPermission:()=>{p&&navigator.permissions.query({name:"geolocation"}).then(h=>{h.state==="granted"?(r("granted"),m(!0),localStorage.setItem("geolocationPermission","granted"),navigator.geolocation.getCurrentPosition(f=>{const A={latitude:f.coords.latitude,longitude:f.coords.longitude};i(A),d(A)})):h.state==="prompt"?(r("prompt"),navigator.geolocation.getCurrentPosition(f=>{m(!0),localStorage.setItem("geolocationPermission","granted");const A={latitude:f.coords.latitude,longitude:f.coords.longitude};i(A),d(A)},f=>{switch(m(!1),f.code){case f.PERMISSION_DENIED:console.error("User denied access to geolocation");break;case f.POSITION_UNAVAILABLE:console.error("Geolocation information is unavailable");break;case f.TIMEOUT:console.error("Geolocation access request timed out");break;default:console.error("An unknown error occurred while getting geolocation");break}})):(m(!1),r("denied"),localStorage.removeItem("geolocationPermission"),console.log(h.state))})},toggleTemperatureScale:()=>{t(!e)},flipWeatherDetails:()=>{s(!n)},statePermission:o}},te=()=>{const{hasGeolocationPermission:e,requestGeolocationPermission:t,statePermission:n}=G();return a.createElement(a.Fragment,null,a.createElement("h2",{className:"text-whiteBase text-medium md:text-2xl lg:text-4xl"},"What a pity, this could be your weather"),a.createElement("span",{className:"mt-20 mb-28"},a.createElement(T,{svgName:"icon-moon",size:156,className:"fill-transparent stroke-greyBase"})),a.createElement(z,{id:"Geolocation permission button",variant:"Primary",onHandleClick:t,classNameButton:"border border-solid border-whiteBase"},!n||n==="prompt"?"Give permission for your geolocation":e?"Get the weather for your region":n==="denied"&&"Permission denied"))},ae=({toggleTemperatureScale:e,currentWeather:t,isCelsius:n})=>{var o,r,l,m,i,d,p,c;const{breakpointsForMarkup:s}=w()??{breakpointsForMarkup:null};return a.createElement("div",{className:"flex justify-evenly gap-5 items-center mx-auto cursor-pointer",onClick:e},a.createElement("div",{className:'relative w-[83px] md:w-[96px] after:content-[""] after:h-full after:absolute after:w-px after:-right-2 after:top-0 after:bg-white text-center'},a.createElement("p",{className:"w-full font-weather text-monstrous md:text-[64px] text-contrastWhite"},(t==null?void 0:t.main)!==void 0&&(n?Math.round((o=t==null?void 0:t.main)==null?void 0:o.temp)+"°":Math.round(((r=t==null?void 0:t.main)==null?void 0:r.temp)*9/5+32)+"°"))),a.createElement("div",null,(t==null?void 0:t.weather)&&((l=t==null?void 0:t.weather[0])==null?void 0:l.main)&&a.createElement("p",{className:"font-weather text-3xl md:text-4.5xl text-contrastWhite"},(m=t==null?void 0:t.weather[0])==null?void 0:m.main),a.createElement("p",{className:"font-weather text-base md:text-2xl text-contrastWhite mb-2.5"},"Feels like"," ",n?((i=t==null?void 0:t.main)==null?void 0:i.feels_like)&&Math.round((d=t==null?void 0:t.main)==null?void 0:d.feels_like)+"°C":((p=t==null?void 0:t.main)==null?void 0:p.feels_like)&&Math.round(((c=t==null?void 0:t.main)==null?void 0:c.feels_like)*9/5+32)+"°F"),a.createElement("div",{className:"flex items-center gap-1 md:gap-2 text-contrastWhite bg-weatherForeground py-[9px] px-2 md:pt-[10px] md:pr-[17px] md:pb-[9px] md:pl-[7px] rounded-lg"},a.createElement(T,{svgName:"icon-location",size:s!=null&&s.isNothing||s!=null&&s.isMobile?20:27,className:"fill-whiteBase"}),a.createElement("p",{className:"text-base md:text-2xl text-contrastWhite"},t==null?void 0:t.name))))};function $(e){const t=new Date(e*1e3),n=t.getHours(),s=t.getMinutes(),o=String(n).padStart(2,"0"),r=String(s).padStart(2,"0");return`${o}:${r}`}function ne(e){return{"-43200":"-12:00","-39600":"-11:00","-36000":"-10:00","-34200":"-09:30","-32400":"-09:00","-28800":"-08:00","-25200":"-07:00","-21600":"-06:00","-18000":"-05:00","-16200":"-04:30","-14400":"-04:00","-12600":"-03:30","-10800":"-03:00","-7200":"-02:00","-3600":"-01:00",0:"00:00",3600:"+01:00",7200:"+02:00",10800:"+03:00",12600:"+03:30",14400:"+04:00",16200:"+04:30",18e3:"+05:00",19800:"+05:30",20700:"+05:45",21600:"+06:00",23400:"+06:30",25200:"+07:00",28800:"+08:00",32400:"+09:00",34200:"+09:30",36e3:"+10:00",37800:"+10:30",39600:"+11:00",41400:"+11:30",43200:"+12:00",45900:"+12:45",46800:"+13:00",50400:"+14:00"}[e]}function L(e){const t=e*.75006;return Math.floor(t)}function se(e){return e/1e3}function oe(e){let t;const n=[{min:0,max:.2,scale:"0"},{min:.3,max:1.5,scale:"1"},{min:1.6,max:3.3,scale:"2"},{min:3.4,max:5.4,scale:"3"},{min:5.5,max:7.9,scale:"4"},{min:8,max:10.7,scale:"5"},{min:10.8,max:13.8,scale:"6"},{min:13.9,max:17.1,scale:"7"},{min:17.2,max:20.7,scale:"8"},{min:20.8,max:24.4,scale:"9"},{min:24.5,max:28.4,scale:"10"},{min:28.5,max:32.6,scale:"11"},{min:32.7,max:Number.MAX_SAFE_INTEGER,scale:"12"}];return e&&(t=n.find(s=>e>=s.min&&e<=s.max)),t?t==null?void 0:t.scale:""}function le(){const e=new Date,t=e.getHours(),n=e.getMinutes(),s=l=>l<10?`0${l}`:l.toString(),o=s(t),r=s(n);return`${o}:${r}`}function re(){const e={Sun:"Sunday",Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thu:"Thursday",Fri:"Friday",Sat:"Saturday"},t=new Date,n=e[t.toDateString().slice(0,3)],s=le(),o=t.toDateString().slice(4).slice(0,4),r=t.toDateString().slice(8).slice(0,2),l=t.toDateString().slice(11),m=`${s} | ${r} ${o} ${l}`;return{days:n,dateNow:m}}const ie=e=>{var t;return a.createElement("td",{className:"py-1.5 md:py-4 text-small md:text-base text-whiteBase text-center"},Math.ceil((t=e==null?void 0:e.main)==null?void 0:t.temp),"°C")},ce=e=>{var t,n,s,o;return a.createElement("td",{className:"h-[35px]"},a.createElement("img",{className:"cover",src:`https://openweathermap.org/img/wn/${(n=(t=e==null?void 0:e.weather)==null?void 0:t[0])==null?void 0:n.icon}@2x.png`,alt:(o=(s=e==null?void 0:e.weather)==null?void 0:s[0])==null?void 0:o.description}))},me=e=>{var t;return a.createElement("td",{className:"py-1.5 md:py-4 text-small md:text-base text-whiteBase text-center"},(t=e==null?void 0:e.main)==null?void 0:t.humidity)},de=e=>{var t;return a.createElement("td",{className:"py-1.5 md:py-4 text-small md:text-base text-whiteBase text-center"},L((t=e==null?void 0:e.main)==null?void 0:t.pressure))},ue=e=>{var t;return a.createElement("td",{className:"py-1.5 md:py-4 text-small md:text-base text-whiteBase text-center"},(t=e==null?void 0:e.wind)==null?void 0:t.speed)},fe=()=>{const{hourlyWeather:e}=R(),{breakpointsForMarkup:t}=w()??{breakpointsForMarkup:null},n=[{label:"Temperature in °C",icon:"icon-thermometer",iconSize:24,iconColorStyles:"fill-whiteBase",renderCell:ie},{label:"Precipitation and weather",icon:"icon-sun",iconSize:24,iconColorStyles:"stroke-whiteBase fill-transparent",renderCell:ce},{label:"Humidity (%)",icon:"icon-humidity",iconSize:28,iconColorStyles:"fill-whiteBase",renderCell:me},{label:"Pressure (mm.Hg)",icon:"icon-pressure",iconSize:24,iconColorStyles:"fill-whiteBase",renderCell:de},{label:"Wind speed (m/s)",icon:"icon-weather-wind",iconSize:24,iconColorStyles:"fill-whiteBase",renderCell:ue}];return a.createElement("div",{className:"w-full h-full backface-hidden flex bg-accentBase duration-500 ease-in rotate-y-180 col-[1/1] rows-[1/1]"},a.createElement("table",{className:"bg-accentBase min-w-full h-full border border-separate border-transparent"},a.createElement("thead",{className:"h-10"},a.createElement(P,{label:"Time",side:"top",sideOffset:0,ariaLabel:"Time interval (3 hours)",contentClass:"border border-solid border-whiteBase rounded-xl text-small md:text-medium px-2 text-whiteBase bg-accentAlt/[.8]"},a.createElement("tr",null,a.createElement("th",{className:"w-10 pr-2"},a.createElement(T,{svgName:"icon-time",size:t!=null&&t.isNothing||t!=null&&t.isMobile?20:24,className:"fill-whiteBase"})),e&&Array.isArray(e)&&(e==null?void 0:e.map(s=>{const o=$(s==null?void 0:s.dt);return a.createElement("th",{key:s==null?void 0:s.dt,scope:"col",className:"whitespace-nowrap text-small md:text-base text-whiteBase text-center -rotate-90"},o)}))))),a.createElement("tbody",null,n.map(({label:s,icon:o,iconColorStyles:r,iconSize:l,renderCell:m})=>a.createElement(P,{key:o,label:s,side:"top",sideOffset:0,ariaLabel:`Info about ${s} by time interval`,contentClass:"border border-solid border-whiteBase rounded-xl text-small md:text-medium px-2 text-whiteBase bg-accentAlt/[.8]"},a.createElement("tr",null,a.createElement("th",{scope:"row",className:"w-10 pr-2"},a.createElement(T,{svgName:o,size:t!=null&&t.isNothing||t!=null&&t.isMobile?20:l,className:r})),e&&Array.isArray(e)&&e.map(i=>a.createElement(a.Fragment,{key:i==null?void 0:i.dt},m(i)))))))))},pe=()=>{var l,m,i,d,p,c,u;const{currentWeather:e}=R(),{breakpointsForMarkup:t}=w()??{breakpointsForMarkup:null},{days:n,dateNow:s}=re(),o=(t==null?void 0:t.isNothing)||(t==null?void 0:t.isMobile),r=[{icon:"icon-earth",iconSize:o?16:24,value:`${ne(e==null?void 0:e.timezone)}`,label:"Greenwich mean time",hint:"GMT time",justifyItemClass:"justify-start",subTextValue:"UTC"},{icon:"icon-humidity",iconSize:o?18:30,value:`${(l=e==null?void 0:e.main)==null?void 0:l.humidity}`,label:"Humidity in percent",hint:"Humidity (%)",justifyItemClass:"justify-end",subTextValue:"%"},{icon:"icon-pressure",iconSize:o?18:30,value:`${L((m=e==null?void 0:e.main)==null?void 0:m.pressure)}`,label:"Atmospheric pressure in mm Hg",hint:"Atmospheric pressure (mm.Hg)",justifyItemClass:"justify-start",subTextValue:"mm.Hg"},{icon:"icon-pressure",iconSize:o?18:30,value:`${(i=e==null?void 0:e.main)==null?void 0:i.pressure}`,label:"Atmospheric pressure in hPa",hint:"Atmospheric pressure (HPa)",justifyItemClass:"justify-end",subTextValue:"hPa"},{icon:"icon-sunrise",iconSize:o?20:30,value:`${$((d=e==null?void 0:e.sys)==null?void 0:d.sunrise)}`,label:"Sunrise time",hint:"Sunrise time",justifyItemClass:"justify-start",subTextValue:"AM"},{icon:"icon-sunset",iconSize:o?20:30,value:`${$((p=e==null?void 0:e.sys)==null?void 0:p.sunset)}`,label:"Sunset time",hint:"Sunset time",justifyItemClass:"justify-end",subTextValue:"PM"},{icon:"icon-eye-opened",iconSize:o?20:30,value:`${se(e==null?void 0:e.visibility)}`,label:"Road visibility",hint:"Road visibility",justifyItemClass:"justify-start",subTextValue:"km"},{icon:"icon-weather-wind",iconSize:o?20:30,value:`${(c=e==null?void 0:e.wind)==null?void 0:c.speed}`,label:"Wind speed in metre per seconds",hint:`Wind speed (m/s). (${oe((u=e==null?void 0:e.wind)==null?void 0:u.speed)} on the Beaufort scale)`,justifyItemClass:"justify-end",subTextValue:"m/s"}];return a.createElement("div",{className:"w-full h-full backface-hidden col-[1/1] rows-[1/1] flex flex-col gap-3 justify-between"},a.createElement("div",{className:"text-center mb-3"},a.createElement("p",{className:"font-weather text-3.5xl md:text-4.5xl text-contrastWhite"},n),a.createElement("p",{className:"font-weather text-2.5xl md:text-3.5xl text-contrastWhite"},s)),a.createElement("ul",{className:"grid grid-cols-2 grid-rows-2 gap-y-3.5"},Array.isArray(r)&&r.map(({icon:x,iconSize:E,value:h,label:f,hint:A,justifyItemClass:C,subTextValue:k})=>a.createElement("li",{key:f},a.createElement(P,{label:A,side:"top",align:C==="justify-end"?"end":"start",sideOffset:4,ariaLabel:`Info about ${f} for current time`,contentClass:"border border-solid border-whiteBase rounded-xl text-small md:text-medium px-2 text-whiteBase bg-accentAlt/[.8]"},a.createElement("div",{className:` text-contrastWhite text-base md:text-medium flex gap-3 items-center ${C}`},a.createElement("div",{className:`${C==="justify-end"?"order-last":"order-1"}`},a.createElement(T,{svgName:x,size:E,className:"fill-whiteBase"})),a.createElement("p",{className:"even:order-1 flex items-baseline gap-x-1"},h,a.createElement("span",{className:"text-xs"},k))))))))},he=()=>{var d,p;const{hasGeolocationPermission:e,isCelsius:t,flippingCard:n,toggleTemperatureScale:s,flipWeatherDetails:o}=G(),{isWeatherLoading:r,currentWeather:l}=R(),m=l&&Object.keys(l).length===0,i=r&&e;return a.createElement("div",{className:`${!r&&m?"flex flex-col items-center justify-between text-center py-10 px-6 md:px-10":"py-8 px-5 md:pt-10 md:px-8"}  bg-accentBase w-full hg:w-[442px] h-full`},!r&&m?a.createElement(te,null):i?a.createElement(U,{variant:"element"}):!r&&!m&&e&&a.createElement(a.Fragment,null,a.createElement(ae,{toggleTemperatureScale:s,currentWeather:l,isCelsius:t}),(l==null?void 0:l.weather)&&(l==null?void 0:l.weather[0].icon)&&a.createElement("img",{className:"m-auto w-32 h-32 md:w-[165px] md:h-[165px] hg:w-[180px] hg:h-[180px]",src:`https://openweathermap.org/img/wn/${l==null?void 0:l.weather[0].icon}@2x.png`,alt:(p=(d=l==null?void 0:l.weather)==null?void 0:d[0])==null?void 0:p.description}),a.createElement("div",{className:"w-full h-56 perspective-10 cursor-pointer",onClick:o},a.createElement("div",{className:`w-full h-full transition-transform grid grid-cols-1 grid-rows-1 transform-style-3d ${n}`},a.createElement(pe,null),a.createElement(fe,null)))))},ge=({activeLinks:e,isAuthenticated:t,liveNews:n,savedNews:s,allArchive:o})=>{const[r,l]=g.useState(()=>d()),[m,i]=g.useState(()=>p());g.useEffect(()=>{if(t){if(e.isArchiveActive){if(e.isArchiveActive&&o&&o.length!==0){const c=o.find(h=>h.isFavourite===n.isFavourite),u=o.find(h=>h.hasRead===n.hasRead),x=c==null?void 0:c.isFavourite,E=u==null?void 0:u.hasRead;x&&E&&(l(!0),i(!0)),x&&!E&&(l(!0),i(!1)),E&&!x&&(i(!0),l(!1))}}else if(s&&(n==null?void 0:n.newsUrl)!==void 0)if((s==null?void 0:s.length)!==0){const c=s==null?void 0:s.find(E=>E.newsUrl===(n==null?void 0:n.newsUrl)),u=c==null?void 0:c.isFavourite,x=c==null?void 0:c.hasRead;u&&x&&(l(!0),i(!0)),u&&!x&&l(!0),x&&!u&&i(!0)}else return}},[s,o,t,n]);function d(){if(e.isArchiveActive){const c=o==null?void 0:o.find(u=>u.newsUrl===(n==null?void 0:n.newsUrl));return(c==null?void 0:c.isFavourite)??!1}else{const c=s==null?void 0:s.find(u=>u.newsUrl===(n==null?void 0:n.newsUrl));return(c==null?void 0:c.isFavourite)??!1}}function p(){if(e.isArchiveActive){const c=o==null?void 0:o.find(u=>u.newsUrl===(n==null?void 0:n.newsUrl));return(c==null?void 0:c.hasRead)??!1}else{const c=s==null?void 0:s.find(u=>u.newsUrl===(n==null?void 0:n.newsUrl));return(c==null?void 0:c.hasRead)??!1}}return{isFavourite:r,hasRead:m,setIsFavourite:l,setHasRead:i}},xe=({activeLinks:e,liveNews:t,setIsFavourite:n,setHasRead:s})=>{const[o,r]=g.useState(!1),[l,m]=g.useState(!1),{savedNews:i,updateSavedNews:d,addVotedNews:p,removeNews:c,removeFavouriteNews:u}=F(),{setOpenToast:x}=q();g.useEffect(()=>{o&&i&&(p(i),r(!1))},[o,p]);const E=g.useCallback(async C=>{if(C.stopPropagation(),C.preventDefault(),e.isArchiveActive||f(),i&&t&&(t==null?void 0:t.newsUrl)!==void 0&&!e.isArchiveActive){const b=new Date().getTime();if(i.length===0){n(!0);const y={...t,isFavourite:!0,hasRead:!1,additionDate:b};await d(y)}else{const y=i==null?void 0:i.find(D=>D.newsUrl===t.newsUrl),S=y==null?void 0:y.isFavourite,B=y==null?void 0:y.hasRead;if(y){if(S===!1&&B===!0){n(!0);const D={...t,isFavourite:!0};await d(D)}else if(S===!0&&B===!1){n(!1);const D={...t,isFavourite:!1,hasRead:B,additionDate:null};await d(D),u((t==null?void 0:t.newsUrl)||"")}else if(S===!0&&B===!0){n(!1);const D={...t,isFavourite:!1,hasRead:B};await d(D),u((t==null?void 0:t.newsUrl)||"")}}else{n(!0);const D={...t,isFavourite:!0,hasRead:!1,additionDate:b};await d(D)}}}},[e.isArchiveActive,f,i,d,u]),h=g.useCallback(async()=>{if(i&&t&&(t==null?void 0:t.newsUrl)!==void 0&&!e.isArchiveActive){const k=new Date().getTime();if(i.length===0){s(!0),f();const b={...t,hasRead:!0,isFavourite:!1,additionDate:k};await d(b)}else{const b=i==null?void 0:i.find(B=>B.newsUrl===t.newsUrl),y=b==null?void 0:b.isFavourite,S=b==null?void 0:b.hasRead;if(b){if(S===!1&&y===!0){s(!0),f();const B={...t,hasRead:!0};await d(B)}else if(S===!0)return}else{s(!0),f();const B={...t,hasRead:!0,additionDate:k};await d(B)}}}},[e.isArchiveActive,f,i,d]);function f(){r(!0)}return{isDeleted:l,handleChangeFavourites:E,handleReadNews:h,handleDeleteNews:async(C,k)=>{C.stopPropagation(),C.preventDefault();const y=(await c(k)).payload,{message:S}=y;S&&S==="Remove news success"&&(x(!0),m(!0))}}},be=({liveNews:e,activeLinks:t})=>{const{savedNews:n,allArchive:s}=F(),{isAuthenticated:o}=I(),{isFavourite:r,hasRead:l,setIsFavourite:m,setHasRead:i}=ge({activeLinks:t,isAuthenticated:o,liveNews:e,savedNews:n,allArchive:s}),{isDeleted:d,handleChangeFavourites:p,handleReadNews:c,handleDeleteNews:u}=xe({activeLinks:t,isAuthenticated:o,liveNews:e,setIsFavourite:m,setHasRead:i});return{isFavourite:r,hasRead:l,isDeleted:d,handleChangeFavourites:p,handleReadNews:c,handleDeleteNews:u}},ye=({myButtonRef:e,handleOpenConfirm:t})=>a.createElement(P,{label:"Delete news from archive",side:"bottom",sideOffset:16,ariaLabel:"Delete news from archive",contentClass:"border border-solid border-whiteBase rounded-xl text-small md:text-medium px-2 text-whiteBase bg-accentAlt/[.8]"},a.createElement("div",null,a.createElement(z,{ref:e,onHandleClick:t,variant:"Small",hasIcon:!0,svgName:"icon-close",svgSize:24,classNameIcon:"stroke-whiteBase",ariaLabel:"Delete news from archive button",classNameButton:"absolute z-40 top-3 right-3 bg-accentBase/[.8] py-1.5"}))),Ee=({handleDeleteNews:e,handleClose:t,newsId:n})=>{const o=[{onClick:r=>t(r,!1),id:"Cancel deletion the news",label:"Cancel"},{onClick:async r=>{await e(r,n)},id:"Delete selected news",label:"Delete"}];return a.createElement("div",null,a.createElement("h3",{className:"text-2xl text-darkBase dark:text-whiteBase mb-4 md:text-4xl md:mb-6"},"Delete news"),a.createElement("p",{className:"text-medium text-darkBase dark:text-whiteBase mb-6 md:text-xl md:mb-10"},"Are you sure you want to delete this news?"),a.createElement("ul",{className:"max-md:space-y-4 md:flex md:justify-between md:items-center md:gap-8"},o.map(({onClick:r,id:l,label:m})=>a.createElement("li",{key:m,className:"w-full"},a.createElement(z,{variant:"Primary",onHandleClick:r,id:l,classNameButton:"md:text-xl"},m)))))},Be=({liveNews:e})=>a.createElement("div",{className:"px-4 mt-4"},a.createElement("p",{className:"text-small lg:text-base leading-tight text-darkBase dark:text-whiteBase mb-2 text-end line-clamp-1"},e!=null&&e.author?`By ${e==null?void 0:e.author}`:`${e==null?void 0:e.materialType}`),a.createElement("h2",{className:"h-[100px] md:h-[132px] mb-4 text-3xl md:text-4xl font-bold leading-tight tracking-mediumTight md:tracking-tighter line-clamp-3 dark:text-whiteBase"},e==null?void 0:e.title),a.createElement("p",{className:"h-[57px] md:h-[66px] text-base md:text-medium leading-tight line-clamp-3 text-darkBase dark:text-whiteBase mb-4"},e==null?void 0:e.description),a.createElement("div",{className:"flex justify-between"},a.createElement("p",{className:"text-base md:text-medium text-greyAlt"},e==null?void 0:e.publishDate),a.createElement("div",{className:"flex pr-2 items-center gap-2 bg-accentAlt dark:bg-transparent duration-500 transition-all translate-x-full rounded-2xl group-hover:translate-x-0 group-hover:bg-accentAlt"},a.createElement(T,{svgName:"icon-double-arrow",size:16,className:"fill-whiteBase"}),a.createElement("p",{className:"text-base md:text-medium text-whiteBase transition-colors duration-500"},"Click for read more...")))),Ce=({onHandleClick:e,isFavourite:t,buttonData:n})=>{const s=M(),o=j(s),r=t?"fill-accentBase stroke-accentBase":"stroke-accentBase fill-none";return a.createElement("button",{id:n==null?void 0:n.id,type:"button",className:`absolute z-20 bottom-3 right-2 flex items-center gap-1 rounded-3xl px-3 py-1.5 bg-contrastWhite ${r} ${o.isArchiveActive?"":"hover:stroke-whiteBase hover:bg-accentBase hover:text-whiteBase"} text-small text-darkBase font-medium transition-colors duration-250`,onClick:e},o.isArchiveActive?t?"Favourited":"Not in favourites":t?"Remove from favorite":"Add to favorite",a.createElement(T,{svgName:"icon-heart",size:16,className:"stroke-inherit fill-inherit"}))},Se=({liveNews:e={}})=>{const{isAuthenticated:t}=I(),{isOpenModal:n,toggleModal:s,popUpRef:o}=K(),r=a.createRef(),l=M(),m=j(l),{isFavourite:i,hasRead:d,handleChangeFavourites:p,handleReadNews:c,handleDeleteNews:u}=be({liveNews:e,activeLinks:m}),x=async h=>{e._id&&await u(h,e._id)},E=m.isHomeActive||m.isArchiveActive;return a.createElement(a.Fragment,null,e&&(e==null?void 0:e.newsUrl)&&a.createElement("a",{rel:"noopener noreferrer",className:"block group transition-colors duration-500",href:e==null?void 0:e.newsUrl,target:"_blank",onClick:t?c:void 0},a.createElement("div",{className:`${t&&d&&E?"absolute z-20 w-full h-full bg-whiteBase/[.4]":"hidden"}`}),m.isArchiveActive?a.createElement(ye,{myButtonRef:r,handleOpenConfirm:h=>s(h,!0)}):null,a.createElement("p",{className:"absolute z-20 top-10 left-0 py-1 px-2 text-small font-medium text-contrastWhite bg-accentBase/[.7] rounded-r"},e==null?void 0:e.category," / ",e==null?void 0:e.materialType),t&&d&&a.createElement("p",{className:"absolute z-10 top-3.5 right-14 md:top-5 text-base font-bold text-readBase flex items-center gap-1"},"Already read",a.createElement(T,{svgName:"icon-check",size:18,className:"fill-readBase"})),a.createElement("div",{className:"relative h-[395px] flex justify-center items-center overflow-hidden rounded-[10px]"},e&&(e!=null&&e.imgLink)?a.createElement("img",{className:"rounded-xl max-w-none h-full absolute object-cover",src:e==null?void 0:e.imgLink,alt:e!=null&&e.imgAlt?e==null?void 0:e.imgAlt:"plug image"}):a.createElement(ee,{variant:"card"}),t&&a.createElement(a.Fragment,null,a.createElement(Ce,{onHandleClick:p,isFavourite:i,buttonData:{id:`Add ${e==null?void 0:e.newsUrl} to favourites or remove from them`}}))),a.createElement(Be,{liveNews:e})),n&&a.createElement(X,{closeModal:s,modalRef:o,variant:"deleteNews"},a.createElement(Ee,{handleDeleteNews:x,newsId:e._id,handleClose:h=>s(h)})))},Te=({currentItems:e,currentPage:t})=>{const{isWeatherLoading:n}=R();return a.createElement("ul",{className:"max-md:space-y-7 md:grid md:grid-cols-2 md:gap-[30px] lg:grid-cols-3 lg:gap-x-8 lg:gap-y-10 hg:gap-10 mb-10 md:mb-12 lg:mb-[60px]"},t&&t===1&&a.createElement("li",{className:"max-md:h-[515px] shadow-card overflow-hidden rounded-[10px] dark:shadow-darkCard transition-colors duration-500 md:col-start-2 lg:col-start-3"},n?a.createElement(U,{variant:"element"}):a.createElement(he,null)),e&&e.map((s,o)=>a.createElement("li",{key:s.newsUrl,className:`relative w-72 md:w-[353px] lg:w-[395px] hg:w-[442px] h-[655px] md:h-[700px] shadow-card overflow-hidden rounded-[10px] dark:shadow-darkCard transition-colors duration-500 ${o===0&&"md:col-start-1 md:row-start-1 lg:col-start-1"} ${o===1&&"lg:col-start-2 lg:row-start-1"}`},a.createElement(Se,{liveNews:s}))))};export{Te as N,ee as P};
