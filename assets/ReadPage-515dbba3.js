import{r as l,c as L,b as v,f as N,g as D,i as S,h as P,j as A,R as e,L as C,N as k,A as y}from"./index-98ff3bbc.js";import{N as F,P as b}from"./NewsList-0cabd41b.js";import"./images-92a6036b.js";const T=()=>{const[m,d]=l.useState(!1),{allReads:o,isLoadingDBData:p,getReads:u}=L(),{hasResults:g}=v(),f=N(),n=D(f),E=S({activeLinks:n}),{rebuildedNews:t}=P({activeLinks:n}),{sortedDates:i}=A({activeLinks:n});l.useEffect(()=>{u()},[u]),l.useEffect(()=>{o&&o.length>0&&d(!0)},[o]);const r=i&&i.length>0?i:E,s=p||g==="loading",h=t.length===0||g==="empty",R=!s&&!h;return e.createElement(e.Fragment,null,s&&e.createElement(C,{variant:"generalSection"}),!s&&t&&e.createElement(k,{variant:"non-interactive",openToast:m,setOpenToast:d,title:"Monthly statistics",description:`${t.length} news added to Reads`}),R&&r&&r.length>0&&e.createElement("div",null,r.map(c=>e.createElement(y,{key:c,dateSeparator:c,position:"readPage"},e.createElement(F,{currentItems:t==null?void 0:t.filter(a=>(a==null?void 0:a.publishDate)!==void 0&&(a==null?void 0:a.publishDate)===c)})))),!s&&h&&e.createElement(b,{variant:"page"}))};export{T as default};
