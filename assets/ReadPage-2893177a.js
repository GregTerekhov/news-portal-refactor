import{r as i,c as L,b as v,f as N,g as D,j as S,h as P,k,R as e,L as A,N as C,A as y}from"./index-8e48dfbc.js";import{N as F,P as b}from"./NewsList-24095a5b.js";import"./images-697e95be.js";const T=()=>{const[h,l]=i.useState(!1),{allReads:d,isLoadingDBData:p,getReads:u}=L(),{hasResults:g}=v(),f=N(),o=D(f),E=S({activeLinks:o}),{rebuildedNews:t}=P({activeLinks:o}),{sortedDates:n}=k({activeLinks:o});i.useEffect(()=>{u()},[u]),i.useEffect(()=>{d&&l(!0)},[d]);const r=n&&n.length>0?n:E,s=p||g==="loading",m=t.length===0||g==="empty",R=!s&&!m;return e.createElement(e.Fragment,null,s&&e.createElement(A,{variant:"generalSection"}),!s&&t&&e.createElement(C,{variant:"non-interactive",openToast:h,setOpenToast:l,title:"Monthly statistics",description:`${t.length} news added to Reads`}),R&&r&&r.length>0&&e.createElement("div",null,r.map(c=>e.createElement(y,{key:c,dateSeparator:c,position:"readPage"},e.createElement(F,{currentItems:t==null?void 0:t.filter(a=>(a==null?void 0:a.publishDate)!==void 0&&(a==null?void 0:a.publishDate)===c)})))),!s&&m&&e.createElement(b,{variant:"page"}))};export{T as default};
