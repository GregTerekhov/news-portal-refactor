import{u as W,R as n,P as N,S as R,a as $,b as Q,r as p,c as G,d as J,e as U,f as V,g as X,h as Y,L as Z}from"./index-e22b1d1d.js";import{P as _,N as b}from"./NewsList-70f26d04.js";import"./images-35aca745.js";const F=({pageNumbers:c,currentPage:t,setCurrentPage:x})=>{const{breakpointsForMarkup:s}=W()??{breakpointsForMarkup:null},P=c.length,r=window.innerHeight;let E=0;s!=null&&s.isNothing||s!=null&&s.isMobile?E=3:E=6;const e=[],h=1,i=P,v=t-1,l=t+1,a=o=>n.createElement("li",{key:o,className:`${o===t?"active":""}`,onClick:()=>{x(o),window.scrollTo({top:0+r,left:0})}},n.createElement(N,{"aria-label":o.toString(),classNameButton:`h-10 border-accentBase font-medium transition-colors duration-500 ${o===t?"bg-accentBase text-contrastWhite":"text-darkBase dark:text-whiteBase dark:border-whiteBase"}`,variant:"Small",dataTooltipTarget:`tooltip-pagination-pages-${o.toString()}`,dataTooltipPlacement:"bottom",tooltipText:`Paginate news to page ${o.toString()}`},o)),d=o=>n.createElement("li",{key:o,className:"ellipsis"},n.createElement("span",{className:"text-darkBase dark:text-whiteBase"},"..."));if(P<=E)for(let o=h;o<=i;o+=1)e.push(a(o));else t===h?(e.push(a(t)),e.push(a(l)),e.push(d("next")),e.push(a(i))):t===i?(e.push(a(h)),e.push(d("prev")),e.push(a(v)),e.push(a(t))):t>h&&t<i&&(t===2&&(e.push(d("prev")),e.push(a(t)),e.push(a(l)),e.push(d("next")),e.push(a(i))),t-1>h&&t+1!==i&&(e.push(d("prev")),e.push(a(v)),e.push(a(t)),e.push(d("next")),e.push(a(i))),t+1===i&&(e.push(a(h)),e.push(d("prev")),e.push(a(t)),e.push(a(i))));const L=()=>{t>1&&(x(t-1),window.scrollTo({top:0+r,left:0}))},T=()=>{t<c.length&&(x(t+1),window.scrollTo({top:0+r,left:0}))};return n.createElement("div",{className:"flex justify-center items-center gap-2"},n.createElement(N,{id:"Previous page button",variant:"OtherButton",onHandleClick:L,width:"w-32"},n.createElement(R,{svgName:"icon-arrow-left",size:20,className:"fill-whiteBase"}),s!=null&&s.isTablet||s!=null&&s.isDesktop?n.createElement("span",{className:"text-base md:text-medium font-medium text-contrastWhite"},"Prev"):null),n.createElement("ul",{id:"page-numbers",className:"flex gap-2"},e),n.createElement(N,{id:"Next page button",variant:"OtherButton",onHandleClick:T,width:"w-32"},s!=null&&s.isTablet||s!=null&&s.isDesktop?n.createElement("span",{className:"text-base md:text-medium font-medium text-contrastWhite"},"Next"):null,n.createElement(R,{svgName:"icon-arrow-right",size:20,className:"stroke-whiteBase"})))},M=c=>{const{breakpointsForMarkup:t}=W()||{breakpointsForMarkup:null},{popularNews:x,newsByKeyword:s,newsByCategory:P,newsByDate:r}=$(),{filteredNews:E}=Q(),[e,h]=p.useState(1),[i,v]=p.useState([]),l=c&&(c==null?void 0:c.length)||0,a=4,d=7,L=8,T=5,o=8,z=9,S=y(l,a,T),A=y(l,d,o),H=y(l,L,z),u=j(),B=q();p.useEffect(()=>{if(c&&(c==null?void 0:c.length)>0){const m=e*u-1>=l;let f,g;e===1?(f=e*u,g=f-u):e>1&&m&&B?(f=l,t!=null&&t.isNothing||t!=null&&t.isMobile?g=l-B.firstIndexForLastMobilePage:t!=null&&t.isTablet?g=l-B.firstIndexForLastTabletPage:g=l-B.firstIndexForLastDesktopPage):(f=e*u-1,g=f-u);const w=c.slice(g,f);v(w)}},[x,s,P,r,E,e]);function y(m,f,g){const w=[f];let C=m-f;for(;C>0;)w.push(g),C-=g;return w}function j(){return t!=null&&t.isMobile||t!=null&&t.isNothing?S[e-1]||0:t!=null&&t.isTablet?A[e-1]||0:H[e-1]||0}function D(m,f){const g=m&&m.slice(0,-1).reduce((C,K)=>C+K,0);return f-g}function q(){try{const m=D(S,l),f=D(A,l),g=D(H,l);return{firstIndexForLastMobilePage:m,firstIndexForLastTabletPage:f,firstIndexForLastDesktopPage:g}}catch(m){return console.error(m.message)}}const O=[];let I;e!==1&&(t!=null&&t.isNothing||t!=null&&t.isMobile)?I=Math.ceil(l/u+1):I=Math.ceil(l/u);for(let m=1;m<=I;m++)O.push(m);return{currentItems:i,pageNumbers:O,currentPage:e,setCurrentPage:h}},st=()=>{const{isLoadingAPIData:c,fetchPopular:t}=$(),{isLoadingDBData:x,getSavedNews:s}=G(),{isAuthenticated:P}=J(),{headline:r}=U(),E=V(),e=X(E),{rebuildedNews:h}=Y({activeLinks:e}),{currentItems:i,currentPage:v,pageNumbers:l,setCurrentPage:a}=M(h??[]);return p.useEffect(()=>{t("1"),P&&s()},[t,s,P]),n.createElement("div",null,c||x&&h&&(i==null?void 0:i.length)===0?n.createElement(Z,{variant:"page"}):n.createElement(n.Fragment,null,h&&h.length===0?n.createElement(_,{variant:"page"}):n.createElement(n.Fragment,null,n.createElement("h2",{className:"dark:text-whiteBase text-giant font-bold mb-6"},r&&r),n.createElement(b,{currentItems:i,currentPage:v}),n.createElement(F,{pageNumbers:l,currentPage:v,setCurrentPage:a}))))};export{st as default};
