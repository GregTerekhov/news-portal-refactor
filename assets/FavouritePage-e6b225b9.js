import{r as t,R as a,b as g,f as C,g as v,d as L}from"./index-ef0131dd.js";import{P as M,N as h}from"./PageTemplate-c1fb51fb.js";import"./images-15c610fa.js";import"./Toast-b2179e70.js";const w=({onLoadMore:s})=>{const e=t.useRef(null);return t.useEffect(()=>{const o=new IntersectionObserver(r=>{r[0].isIntersecting&&s()},{threshold:1});return e.current&&o.observe(e.current),()=>{e.current&&o.unobserve(e.current)}},[s]),a.createElement("div",{ref:e})},u=5,l=6,I=()=>{const[s,e]=t.useState(0),[o,r]=t.useState(!1),{isMobile:c,isNotMobile:d}=g(),f=C(),{rebuiltNews:n}=v(f);t.useEffect(()=>{n!=null&&n.length&&e(n.length)},[n]);const E=t.useMemo(()=>c?u:d?l:0,[]),[i,m]=t.useState(E),N=t.useMemo(()=>s>i,[s,i]),p=()=>{!N||o||(r(!0),m(S=>S+(c?u:l)),r(!1))};return{displayedNews:n==null?void 0:n.slice(0,i),handleLoadMore:p}},W=()=>{const{getFavourites:s,getSavedNews:e}=L(),{displayedNews:o,handleLoadMore:r}=I();return t.useEffect(()=>{s(),e()},[s,e]),a.createElement(M,null,a.createElement(h,{currentItems:o}),a.createElement(w,{onLoadMore:r}))};export{W as default};
