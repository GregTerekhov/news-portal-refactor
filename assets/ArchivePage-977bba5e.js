import{i,j as y,R as e,U as x,S as p,c as h,d as u,r as f,L as v,A as k}from"./index-9fe28569.js";import{N as E,P as b}from"./NewsList-014cb65c.js";import"./images-284dd491.js";const N=a=>{const r={};return a&&(a==null?void 0:a.length)>0&&a.forEach(t=>{const s=t==null?void 0:t.additionDate;if(s){const n=i(s,"LLLL/yyyy",{locale:y});r[n]||(r[n]=[]),r[n].push(t)}}),r},w=({logData:a})=>{const r=t=>{console.log(t.target.value)};return e.createElement("div",{className:"flex flex-col mb-6"},e.createElement("div",{className:"-m-1.5 overflow-x-auto"},e.createElement("div",{className:"p-1.5 min-w-full inline-block align-middle"},e.createElement("div",{className:"border rounded-lg divide-y divide-gray-200 dark:border-gray-700 dark:divide-gray-700"},e.createElement("div",{className:"py-3 px-4"},e.createElement("div",{className:"relative max-w-xs"},e.createElement(x,{inputData:{name:"Deleted news",type:"text",placeholder:"Search for deleted news"},hasIcon:!0,svgName:"icon-search",onChange:t=>r(t),variant:"filterServiceBlock"}))),e.createElement("div",{className:"overflow-hidden"},e.createElement("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-greyBase/[.4]"},e.createElement("thead",{className:"bg-gray-50 dark:bg-greyBase/[.4]"},e.createElement("tr",null,e.createElement("th",{scope:"col",className:"px-6 py-3 text-start text-xs md:text-small font-medium text-greyAlt uppercase"},"Title"),e.createElement("th",{scope:"col",className:"px-6 py-3 text-start text-xs md:text-small font-medium text-greyAlt uppercase"},"Category"),e.createElement("th",{scope:"col",className:"px-6 py-3 text-start text-xs  md:text-small font-medium text-greyAlt uppercase"},"Addition Date"),e.createElement("th",{scope:"col",className:"px-6 py-3 text-start text-xs md:text-small font-medium text-greyAlt uppercase"},"Deletion Date"))),e.createElement("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700"},a&&a.map(({title:t,newsUrl:s,category:n,additionDate:l,deletionDate:c})=>e.createElement("tr",{key:s},e.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-gray-200"},e.createElement("a",{href:s},t,"hjhdshfksdhkfjhskjhdkjfhkjh jhfskjdhfks shfdjkshfk shdjfhk"," ")),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-gray-200"},n),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-gray-200"},i(l,"dd/MM/yyyy"),";"),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 dark:text-gray-200"},i(c,"dd/MM/yyyy"))))))),e.createElement("div",{className:"py-1 px-4"},e.createElement("nav",{className:"flex items-center space-x-1"},e.createElement("button",{type:"button",className:"p-2.5 inline-flex items-center gap-x-2 text-sm rounded-full text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"},e.createElement("span",{"aria-hidden":"true"},e.createElement(p,{svgName:"icon-arrow-left",size:16,className:"stroke-accentBase dark:stroke-whiteBase"})),e.createElement("span",{className:"sr-only"},"Previous")),e.createElement("button",{type:"button",className:"min-w-[40px] flex justify-center items-center text-gray-800 hover:bg-gray-100 py-2.5 text-sm rounded-full disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10","aria-current":"page"},"1"),e.createElement("button",{type:"button",className:"min-w-[40px] flex justify-center items-center text-gray-800 hover:bg-gray-100 py-2.5 text-sm rounded-full disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10"},"2"),e.createElement("button",{type:"button",className:"min-w-[40px] flex justify-center items-center text-gray-800 hover:bg-gray-100 py-2.5 text-sm rounded-full disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10"},"3"),e.createElement("button",{type:"button",className:"p-2.5 inline-flex items-center gap-x-2 text-sm rounded-full text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"},e.createElement("span",{className:"sr-only"},"Next"),e.createElement("span",{"aria-hidden":"true"},e.createElement(p,{svgName:"icon-arrow-right",size:16,className:"stroke-accentBase fill-transparent dark:stroke-whiteBase"})))))))))},D=()=>{const{isLoadingDBData:a,allArchive:r,archiveHistoryLog:t,getHistoryLog:s,getArchives:n}=h(),{isAuthenticated:l}=u();f.useEffect(()=>{n(),t&&t.length>0&&s()},[t,n,s]);const c=N(r),o=a,d=!a&&r.length!==0;return l&&e.createElement(e.Fragment,null,o&&e.createElement(v,{variant:"generalSection"}),d&&e.createElement(e.Fragment,null,e.createElement(w,{logData:t}),Object.entries(c).map(([m,g])=>e.createElement(k,{key:m,dateSeparator:m,position:"archivePage"},e.createElement(E,{currentItems:g})))),!o&&!d&&e.createElement(b,{variant:"page"}))};export{D as default};
