import{n as w,o as X,r as b,p as Z,q as J,a as Q,s as Y,R as a,S as k,I as m,P as F,V as P,u as T,H as D,L as M,c as j,e as v,t as N,d as U,f as L,v as W,M as ee}from"./index-ae61bed5.js";import{p as te,u as ae}from"./images-d3b49ae8.js";const se=e=>e.weather.isLoading,oe=e=>e.weather.data,ne=e=>e.weather.weatherByHour,le=e=>e.weather.hasError,B=()=>{const e=w(se),t=w(oe),n=w(ne),o=w(le),s=X(),c=b.useCallback(r=>s(Z(r)),[s]),l=b.useCallback(r=>s(J(r)),[s]);return{isWeatherLoading:e,currentWeather:t,hourlyWeather:n,weatherError:o,getCurrentWeather:c,getHourlyWeather:l}},ce=({variant:e})=>{const{errorAPI:t}=Q(),n=t==null?void 0:t.toString().includes("429"),o=window.devicePixelRatio||1,s=Y(te,o,window.innerWidth),c=ae((s==null?void 0:s.src)||"");return a.createElement(a.Fragment,null,e==="page"?a.createElement("div",{className:"flex flex-col items-center justify-center"},a.createElement("p",{className:"md:w-548px mb-10 text-center text-2xl font-bold tracking-smallTight text-darkBase transition-colors dark:text-whiteBase md:text-5xl md:tracking-tighter"},`${n?"It seems you have been send too much requests then its needed":"We haven’t found news from this category"}`),a.createElement("img",{src:c,alt:"No found news",width:s.width,height:s.height})):a.createElement("img",{src:c,alt:"No found news",width:s.width,height:s.height}))},G=()=>{const[e,t]=b.useState(!0),[n,o]=b.useState(!1),[s,c]=b.useState(null),[l,r]=b.useState(!1),{getCurrentWeather:i,getHourlyWeather:d}=B(),p="geolocation"in navigator;return b.useEffect(()=>{localStorage.getItem("geolocationPermission")&&(r(!0),c("granted"))},[s]),{isCelsius:e,hasGeolocationPermission:l,flippingCard:n?"rotate-y-180":"rotate-y-0",requestGeolocationPermission:()=>{p&&navigator.permissions.query({name:"geolocation"}).then(x=>{x.state==="granted"?(c("granted"),r(!0),localStorage.setItem("geolocationPermission","granted"),navigator.geolocation.getCurrentPosition(y=>{const E={lat:y.coords.latitude,lon:y.coords.longitude};i(E),d(E)})):x.state==="prompt"?(c("prompt"),navigator.geolocation.getCurrentPosition(y=>{r(!0),localStorage.setItem("geolocationPermission","granted");const E={lat:y.coords.latitude,lon:y.coords.longitude};i(E),d(E)},y=>{switch(r(!1),y.code){case y.PERMISSION_DENIED:console.error("User denied access to geolocation");break;case y.POSITION_UNAVAILABLE:console.error("Geolocation information is unavailable");break;case y.TIMEOUT:console.error("Geolocation access request timed out");break;default:console.error("An unknown error occurred while getting geolocation");break}})):(r(!1),c("denied"),localStorage.removeItem("geolocationPermission"))})},toggleTemperatureScale:()=>{t(!e)},flipWeatherDetails:()=>{o(!n)},showButtonText:()=>{let x="Give permission for your geolocation";return s==="prompt"?x="Give permission for your geolocation":l?x="Get the weather for your region":s==="denied"&&(x="Permission denied"),x},statePermission:s}},ie=({showError:e})=>{const{requestGeolocationPermission:t,showButtonText:n}=G(),o=e?"Server error. Please try again later when you reload the page":"What a pity, this could be your weather";return a.createElement(a.Fragment,null,a.createElement("h2",{className:"text-medium text-whiteBase md:text-2xl lg:text-4xl"},o),a.createElement("div",{className:`mt-20 ${e?"flex justify-center":"mb-28"}`},a.createElement(k,{svgName:"icon-moon",size:m.ultraIcon156,className:"fill-transparent stroke-greyBase"})),!e&&a.createElement(F,{id:"Geolocation permission button",variant:P.Primary,onHandleClick:t,classNameButton:"border border-solid border-whiteBase"},n()))},re=({toggleTemperatureScale:e,currentWeather:t,isCelsius:n})=>{var s,c,l,r,i,d,p,h;const{isMobile:o}=T();return a.createElement("div",{className:"mx-auto flex cursor-pointer items-center justify-evenly gap-5",onClick:e},a.createElement("div",{className:'relative w-83px text-center after:absolute after:-right-2 after:top-0 after:h-full after:w-px after:bg-white after:content-[""] md:w-96px'},a.createElement("p",{className:"w-full font-weather text-monstrous text-contrastWhite md:text-[64px]"},(t==null?void 0:t.main)!==void 0&&(n?Math.round((s=t==null?void 0:t.main)==null?void 0:s.temp)+"°":Math.round(((c=t==null?void 0:t.main)==null?void 0:c.temp)*9/5+32)+"°"))),a.createElement("div",null,(t==null?void 0:t.weather)&&((l=t==null?void 0:t.weather[0])==null?void 0:l.main)&&a.createElement("p",{className:"font-weather text-3xl text-contrastWhite md:text-4.5xl"},(r=t==null?void 0:t.weather[0])==null?void 0:r.main),a.createElement("p",{className:"mb-2.5 font-weather text-base text-contrastWhite md:text-2xl"},"Feels like"," ",n?((i=t==null?void 0:t.main)==null?void 0:i.feels_like)&&Math.round((d=t==null?void 0:t.main)==null?void 0:d.feels_like)+"°C":((p=t==null?void 0:t.main)==null?void 0:p.feels_like)&&Math.round(((h=t==null?void 0:t.main)==null?void 0:h.feels_like)*9/5+32)+"°F"),a.createElement("div",{className:"flex items-center gap-1 rounded-lg bg-weatherForeground px-2 py-[9px] text-contrastWhite md:gap-2 md:pb-[9px] md:pl-[7px] md:pr-[17px] md:pt-[10px]"},a.createElement(k,{svgName:"icon-location",size:o?m.smIcon20:m.mdIcon27,className:"fill-whiteBase"}),a.createElement("p",{className:"text-base text-contrastWhite md:text-2xl"},t==null?void 0:t.name))))},me={"-43200":"-12:00","-39600":"-11:00","-36000":"-10:00","-34200":"-09:30","-32400":"-09:00","-28800":"-08:00","-25200":"-07:00","-21600":"-06:00","-18000":"-05:00","-16200":"-04:30","-14400":"-04:00","-12600":"-03:30","-10800":"-03:00","-7200":"-02:00","-3600":"-01:00",0:"00:00",3600:"+01:00",7200:"+02:00",10800:"+03:00",12600:"+03:30",14400:"+04:00",16200:"+04:30",18e3:"+05:00",19800:"+05:30",20700:"+05:45",21600:"+06:00",23400:"+06:30",25200:"+07:00",28800:"+08:00",32400:"+09:00",34200:"+09:30",36e3:"+10:00",37800:"+10:30",39600:"+11:00",41400:"+11:30",43200:"+12:00",45900:"+12:45",46800:"+13:00",50400:"+14:00"};function $(e){const t=new Date(e*1e3),n=t.getHours(),o=t.getMinutes(),s=String(n).padStart(2,"0"),c=String(o).padStart(2,"0");return`${s}:${c}`}function de(e){const t=String(e);return me[t]}function V(e){const t=e*.75006;return Math.floor(t)}function ue(e){return e/1e3}function pe(e){let t;const n=[{min:0,max:.2,scale:"0"},{min:.3,max:1.5,scale:"1"},{min:1.6,max:3.3,scale:"2"},{min:3.4,max:5.4,scale:"3"},{min:5.5,max:7.9,scale:"4"},{min:8,max:10.7,scale:"5"},{min:10.8,max:13.8,scale:"6"},{min:13.9,max:17.1,scale:"7"},{min:17.2,max:20.7,scale:"8"},{min:20.8,max:24.4,scale:"9"},{min:24.5,max:28.4,scale:"10"},{min:28.5,max:32.6,scale:"11"},{min:32.7,max:Number.MAX_SAFE_INTEGER,scale:"12"}];return e&&(t=n.find(o=>e>=o.min&&e<=o.max)),t?t==null?void 0:t.scale:""}function ge(){const e=new Date,t=e.getHours(),n=e.getMinutes(),o=l=>l<10?`0${l}`:l.toString(),s=o(t),c=o(n);return`${s}:${c}`}function fe(){const e={Sun:"Sunday",Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thu:"Thursday",Fri:"Friday",Sat:"Saturday"},t=new Date,n=e[t.toDateString().slice(0,3)],o=ge(),s=t.toDateString().slice(4).slice(0,4),c=t.toDateString().slice(8).slice(0,2),l=t.toDateString().slice(11),r=`${o} | ${c} ${s} ${l}`;return{days:n,dateNow:r}}const xe=(e,t)=>{var o,s,c,l,r,i,d;return[{icon:"icon-earth",iconSize:e?m.xsIcon16:m.mdIcon24,value:`${de(t==null?void 0:t.timezone)}`,label:"Greenwich mean time",hint:"GMT time",justifyItemClass:"justify-start",subTextValue:"UTC"},{icon:"icon-humidity",iconSize:e?m.smIcon18:m.lgIcon30,value:`${(o=t==null?void 0:t.main)==null?void 0:o.humidity}`,label:"Humidity in percent",hint:"Humidity (%)",justifyItemClass:"justify-end",subTextValue:"%"},{icon:"icon-pressure",iconSize:e?m.smIcon18:m.lgIcon30,value:`${V((s=t==null?void 0:t.main)==null?void 0:s.pressure)}`,label:"Atmospheric pressure in mm Hg",hint:"Atmospheric pressure (mm.Hg)",justifyItemClass:"justify-start",subTextValue:"mm.Hg"},{icon:"icon-pressure",iconSize:e?m.smIcon18:m.lgIcon30,value:`${(c=t==null?void 0:t.main)==null?void 0:c.pressure}`,label:"Atmospheric pressure in hPa",hint:"Atmospheric pressure (HPa)",justifyItemClass:"justify-end",subTextValue:"hPa"},{icon:"icon-sunrise",iconSize:e?m.smIcon20:m.lgIcon30,value:`${$((l=t==null?void 0:t.sys)==null?void 0:l.sunrise)}`,label:"Sunrise time",hint:"Sunrise time",justifyItemClass:"justify-start",subTextValue:"AM"},{icon:"icon-sunset",iconSize:e?m.smIcon20:m.lgIcon30,value:`${$((r=t==null?void 0:t.sys)==null?void 0:r.sunset)}`,label:"Sunset time",hint:"Sunset time",justifyItemClass:"justify-end",subTextValue:"PM"},{icon:"icon-eye-opened",iconSize:e?m.smIcon20:m.lgIcon30,value:`${ue(t==null?void 0:t.visibility)}`,label:"Road visibility",hint:"Road visibility",justifyItemClass:"justify-start",subTextValue:"km"},{icon:"icon-weather-wind",iconSize:e?m.smIcon20:m.lgIcon30,value:`${(i=t==null?void 0:t.wind)==null?void 0:i.speed}`,label:"Wind speed in metre per seconds",hint:`Wind speed (m/s). (${pe((d=t==null?void 0:t.wind)==null?void 0:d.speed)} on the Beaufort scale)`,justifyItemClass:"justify-end",subTextValue:"m/s"}]},he=()=>[{label:"Temperature in °C",icon:"icon-thermometer",iconSize:m.mdIcon24,iconColorStyles:"fill-whiteBase",renderCell:Ee},{label:"Precipitation and weather",icon:"icon-sun",iconSize:m.mdIcon24,iconColorStyles:"stroke-whiteBase fill-transparent",renderCell:Se},{label:"Humidity (%)",icon:"icon-humidity",iconSize:m.mdIcon28,iconColorStyles:"fill-whiteBase",renderCell:Ie},{label:"Pressure (mm.Hg)",icon:"icon-pressure",iconSize:m.mdIcon24,iconColorStyles:"fill-whiteBase",renderCell:ke},{label:"Wind speed (m/s)",icon:"icon-weather-wind",iconSize:m.mdIcon24,iconColorStyles:"fill-whiteBase",renderCell:Ce}],ye=()=>{const{hourlyWeather:e}=B(),{isMobile:t}=T(),n=he();return a.createElement("div",{className:"rows-[1/1] col-[1/1] flex h-full w-full bg-accentBase duration-500 ease-in backface-hidden rotate-y-180"},a.createElement("table",{className:"h-full min-w-full border-separate border border-transparent bg-accentBase"},a.createElement("thead",{className:"h-10"},a.createElement(D,{label:"Time",side:"top",sideOffset:0,ariaLabel:"Time interval (3 hours)"},a.createElement("tr",null,a.createElement("th",{className:"w-10 pr-2"},a.createElement(k,{svgName:"icon-time",size:t?m.smIcon20:m.mdIcon24,className:"fill-whiteBase"})),e&&Array.isArray(e)&&(e==null?void 0:e.map(o=>{const s=$(o==null?void 0:o.dt);return a.createElement("th",{key:o==null?void 0:o.dt,scope:"col",className:"-rotate-90 whitespace-nowrap text-center text-small text-whiteBase md:text-base hg:text-xl"},s)}))))),a.createElement("tbody",null,n.map(({label:o,icon:s,iconColorStyles:c,iconSize:l,renderCell:r})=>a.createElement(D,{key:s,label:o,side:"top",sideOffset:0,ariaLabel:`Info about ${o} by time interval`},a.createElement("tr",null,a.createElement("th",{scope:"row",className:"w-10 pr-2"},a.createElement(k,{svgName:s,size:t?m.smIcon20:l,className:c})),e&&Array.isArray(e)&&e.map(i=>a.createElement(a.Fragment,{key:i==null?void 0:i.dt},r(i)))))))))},be=()=>{const{currentWeather:e}=B(),{isMobile:t}=T(),{days:n,dateNow:o}=fe(),s=xe(t,e);return a.createElement("div",{className:"rows-[1/1] col-[1/1] flex h-full w-full flex-col justify-between gap-3 backface-hidden"},a.createElement("div",{className:"mb-3 text-center hg:mb-5"},a.createElement("p",{className:"font-weather text-3.5xl text-contrastWhite md:text-4.5xl hg:text-5xl"},n),a.createElement("p",{className:"text-2.5xl font-weather text-contrastWhite md:text-3.5xl"},o)),a.createElement("ul",{className:"grid grid-cols-2 grid-rows-2 gap-y-3.5"},Array.isArray(s)&&s.map(({icon:c,iconSize:l,value:r,label:i,hint:d,justifyItemClass:p,subTextValue:h})=>a.createElement("li",{key:i},a.createElement(D,{label:d,side:"top",align:p==="justify-end"?"end":"start",sideOffset:4,ariaLabel:`Info about ${i} for current time`},a.createElement("div",{className:` flex items-center gap-3 text-base text-contrastWhite md:text-medium hg:text-2xl ${p}`},a.createElement("div",{className:`${p==="justify-end"?"order-last":"order-1"}`},a.createElement(k,{svgName:c,size:l,className:"fill-whiteBase"})),a.createElement("p",{className:"flex items-baseline gap-x-1 even:order-1"},r,a.createElement("span",{className:"text-xs hg:text-small"},h))))))))},H="py-1.5 text-center text-small text-whiteBase md:py-4 md:text-base hg:text-medium",Ee=e=>{var t;return a.createElement("td",{className:`${H}`},Math.ceil((t=e==null?void 0:e.main)==null?void 0:t.temp),"°C")},Se=e=>{var t,n,o,s;return a.createElement("td",{className:"h-35px"},a.createElement("img",{className:"cover",src:`https://openweathermap.org/img/wn/${(n=(t=e==null?void 0:e.weather)==null?void 0:t[0])==null?void 0:n.icon}@2x.png`,alt:(s=(o=e==null?void 0:e.weather)==null?void 0:o[0])==null?void 0:s.description}))},Ie=e=>{var t;return a.createElement("td",{className:`${H}`},(t=e==null?void 0:e.main)==null?void 0:t.humidity)},ke=e=>{var t;return a.createElement("td",{className:`${H}`},V((t=e==null?void 0:e.main)==null?void 0:t.pressure))},Ce=e=>{var t;return a.createElement("td",{className:`${H}`},(t=e==null?void 0:e.wind)==null?void 0:t.speed)},Be=()=>{var h,u,g;const{hasGeolocationPermission:e,isCelsius:t,flippingCard:n,toggleTemperatureScale:o,flipWeatherDetails:s}=G(),{isWeatherLoading:c,currentWeather:l,weatherError:r}=B(),i=l&&Object.keys(l).length===0,d=c&&e,p=r&&((h=r==null?void 0:r.cod)==null?void 0:h.includes("5"));return a.createElement("div",{className:`${!c&&i&&!p?"flex flex-col items-center justify-between px-6 py-10 text-center md:px-10":p?"px-6 py-10 text-center md:px-10":"px-5 py-8 md:px-8 md:pt-10 hg:pt-8"}  h-full w-full bg-accentBase hg:w-442px`},!c&&i||p?a.createElement(ie,{showError:p}):d?a.createElement(M,{variant:"element"}):!c&&!i&&e&&a.createElement(a.Fragment,null,a.createElement(re,{toggleTemperatureScale:o,currentWeather:l,isCelsius:t}),(l==null?void 0:l.weather)&&(l==null?void 0:l.weather[0].icon)&&a.createElement("img",{className:"m-auto h-32 w-32 md:h-165px md:w-165px hg:h-180px hg:w-180px",src:`https://openweathermap.org/img/wn/${l==null?void 0:l.weather[0].icon}@2x.png`,alt:(g=(u=l==null?void 0:l.weather)==null?void 0:u[0])==null?void 0:g.description}),a.createElement("div",{className:"h-56 w-full cursor-pointer perspective-10",onClick:s},a.createElement("div",{className:`grid h-full w-full grid-cols-1 grid-rows-1 transition-transform transform-style-3d ${n}`},a.createElement(be,null),a.createElement(ye,null)))))},we=({isArchiveActive:e,isAuthenticated:t,liveNews:n,savedNews:o,allArchive:s})=>{const[c,l]=b.useState(()=>p()),[r,i]=b.useState(()=>h());b.useEffect(()=>{if(t){if(e){if(e&&s&&s.length!==0){const u=s.find(g=>g.newsUrl===n.newsUrl);d(u)}}else if(o&&(n==null?void 0:n.newsUrl)!==void 0&&(o==null?void 0:o.length)!==0){const u=o==null?void 0:o.find(g=>g.newsUrl===(n==null?void 0:n.newsUrl));d(u)}}},[o,s,t,n]);function d(u){const g=u==null?void 0:u.isFavourite,S=u==null?void 0:u.hasRead;l(g??!1),i(S??!1)}function p(){const g=(e?s:o).find(S=>S.newsUrl===(n==null?void 0:n.newsUrl));return(g==null?void 0:g.isFavourite)??!1}function h(){const g=(e?s:o).find(S=>S.newsUrl===(n==null?void 0:n.newsUrl));return(g==null?void 0:g.hasRead)??!1}return{isFavourite:c,hasRead:r,setIsFavourite:l,setHasRead:i}},De=({isArchiveActive:e,liveNews:t,setIsFavourite:n,setHasRead:o})=>{const[s,c]=b.useState(!1),[l,r]=b.useState(!1),{savedNews:i,updateSavedNews:d,addVotedNews:p,removeNews:h,removeFavouriteNews:u}=j(),{showToast:g}=v(),{setIsScrollDisabled:S}=N();b.useEffect(()=>{s&&i&&(p(i),c(!1))},[s,p]);const I=i&&t&&(t==null?void 0:t.newsUrl)!==void 0&&!e,x=i==null?void 0:i.find(f=>f.newsUrl===t.newsUrl),y=x==null?void 0:x.isFavourite,E=x==null?void 0:x.hasRead,R=new Date().getTime(),z=async()=>{n(!0);const f={...t,isFavourite:!0,additionDate:R};await d(f)},A=async()=>{if(n(!y),!y&&E){const f={...t,isFavourite:!0};await d(f)}else if(y&&!E){const f={...t,isFavourite:!1,hasRead:E,additionDate:null};await d(f),u((t==null?void 0:t.newsUrl)||"")}else if(y&&E){const f={...t,isFavourite:!1,hasRead:E};await d(f),u((t==null?void 0:t.newsUrl)||"")}},_=b.useCallback(async f=>{f.stopPropagation(),f.preventDefault(),I&&(C(),i.length===0||!x?z():A())},[I,x,i,C,z,A]),O=b.useCallback(async()=>{if(I){if(i.length===0||!x){o(!0),C();const f={...t,hasRead:!0,additionDate:R};await d(f)}else if(!E&&y){o(!0),C();const f={...t,hasRead:!0};await d(f)}else if(E===!0)return}},[e,C,i,d]);function C(){c(!0)}return{isDeleted:l,handleChangeFavourites:_,handleReadNews:O,handleDeleteNews:async(f,q)=>{f.stopPropagation(),f.preventDefault();const K=await h(q);g(K.meta.requestStatus),r(!0),S(!1)}}},Te=({liveNews:e,isArchiveActive:t})=>{const{savedNews:n,allArchive:o}=j(),{isAuthenticated:s}=U(),{isFavourite:c,hasRead:l,setIsFavourite:r,setHasRead:i}=we({isArchiveActive:t,isAuthenticated:s,liveNews:e,savedNews:n,allArchive:o}),{isDeleted:d,handleChangeFavourites:p,handleReadNews:h,handleDeleteNews:u}=De({isArchiveActive:t,isAuthenticated:s,liveNews:e,setIsFavourite:r,setHasRead:i});return{isFavourite:c,hasRead:l,isDeleted:d,handleChangeFavourites:p,handleReadNews:h,handleDeleteNews:u}},He=({myButtonRef:e,handleOpenConfirm:t})=>a.createElement(D,{label:"Delete news from archive",side:"bottom",sideOffset:16,ariaLabel:"Delete news from archive"},a.createElement("div",null,a.createElement(F,{ref:e,onHandleClick:t,variant:P.Small,hasIcon:!0,svgName:"icon-close",svgSize:m.mdIcon24,classNameIcon:"stroke-whiteBase",ariaLabel:"Delete news from archive button",classNameButton:"absolute z-40 top-3 right-3 bg-accentBase/[.8] py-1.5"}))),$e=({handleDeleteNews:e,handleClose:t,newsId:n})=>{const s=[{onClick:c=>t(c,!1),id:"Cancel deletion the news",label:"Cancel",icon:"icon-reset"},{onClick:async c=>{await e(c,n)},id:"Delete selected news",label:"Delete",icon:"icon-trash"}];return a.createElement("div",null,a.createElement("h3",{className:"mb-4 text-2xl text-darkBase dark:text-whiteBase md:mb-6 md:text-4xl"},"Delete news"),a.createElement("p",{className:"mb-6 text-medium text-darkBase dark:text-whiteBase md:mb-10 md:text-xl"},"Are you sure you want to delete this news?"),a.createElement("ul",{className:"max-md:space-y-4 md:flex md:items-center md:justify-between md:gap-8"},s.map(({onClick:c,id:l,label:r,icon:i})=>a.createElement("li",{key:r,className:"w-full"},a.createElement(F,{variant:P.Primary,onHandleClick:c,hasIcon:!0,id:l,svgName:i,svgSize:m.smIcon18,classNameIcon:"fill-whiteBase",classNameButton:"md:text-xl border border-whiteBase"},r)))))},Fe=({liveNews:e})=>{const{wideScreens:t}=T();return a.createElement("div",{className:"mt-4 px-4"},a.createElement("p",{className:"mb-2 line-clamp-1 text-end text-small leading-tight text-darkBase dark:text-whiteBase lg:text-base hg:text-medium"},e!=null&&e.author?`By ${e==null?void 0:e.author}`:`${e==null?void 0:e.materialType}`),a.createElement("h2",{className:"mb-4 line-clamp-3 h-100px text-3xl font-bold leading-tight tracking-mediumTight dark:text-whiteBase md:h-132px md:text-4xl md:tracking-tighter hg:h-[120px] hg:text-3.5xl"},e==null?void 0:e.title),a.createElement("p",{className:"mb-4 line-clamp-3 h-57px text-base leading-tight text-darkBase dark:text-whiteBase md:h-66px md:text-medium hg:h-[72px] hg:text-xl"},e==null?void 0:e.description),a.createElement("div",{className:"flex justify-between"},a.createElement("p",{className:"text-base text-greyAlt md:text-medium hg:text-xl"},e==null?void 0:e.publishDate),a.createElement("div",{className:"flex translate-x-full items-center gap-2 rounded-2xl bg-accentAlt pr-2 transition-all group-hover:translate-x-0 group-hover:bg-accentAlt dark:bg-transparent "},a.createElement(k,{svgName:"icon-triangle-double",size:t?m.smIcon20:m.xsIcon16,className:"fill-whiteBase"}),a.createElement("p",{className:"text-base text-whiteBase transition-colors md:text-medium hg:py-px hg:text-xl"},"Click for read more..."))))},Pe=({onHandleClick:e,isFavourite:t,buttonData:n})=>{const{isArchiveActive:o}=L(),s=t?"fill-accentBase stroke-accentBase":"stroke-accentBase fill-none";return a.createElement("button",{id:n==null?void 0:n.id,type:"button",className:`absolute bottom-3 right-2 z-20 flex items-center gap-1 rounded-3xl bg-contrastWhite px-3 py-1.5 ${s} ${o?"":"group hover:bg-accentBase hover:text-whiteBase"} text-small font-medium text-darkBase transition-colors duration-500 lg:text-medium`,onClick:e},o?t?"Favourited":"Not in favourites":t?"Remove from favorite":"Add to favorite",a.createElement(k,{svgName:"icon-heart",size:m.xsIcon16,className:`fill-inherit ${o?"":"group-hover:stroke-whiteBase"} `}))},Re=({liveNews:e={}})=>{const t=a.createRef(),{isAuthenticated:n}=U(),{isOpenModal:o,toggleModal:s,popUpRef:c}=W(),{isHomeActive:l,isArchiveActive:r}=L(),{isFavourite:i,hasRead:d,handleChangeFavourites:p,handleReadNews:h,handleDeleteNews:u}=Te({liveNews:e,isArchiveActive:r}),g=async I=>{e._id&&await u(I,e._id)},S=l||r;return a.createElement(a.Fragment,null,(e==null?void 0:e.newsUrl)&&a.createElement("a",{rel:"noopener noreferrer nofollow",className:"group block transition-colors",href:e.newsUrl,target:"_blank",onClick:n?h:void 0},a.createElement("div",{className:`${n&&d&&S?"absolute z-20 h-full w-full bg-whiteBase/[.4]":"hidden"}`}),r?a.createElement(He,{myButtonRef:t,handleOpenConfirm:I=>s(I,!0)}):null,a.createElement("p",{className:"absolute left-0 top-10 z-20 rounded-r bg-accentBase/[.7] px-2 py-1 text-small font-medium text-contrastWhite hg:text-medium"},e==null?void 0:e.category," / ",e==null?void 0:e.materialType),n&&d&&a.createElement("p",{className:"absolute right-14 top-3.5 z-10 flex items-center gap-1 text-base font-bold text-readBase md:top-5"},"Already read",a.createElement(k,{svgName:"icon-check",size:m.smIcon18,className:"fill-readBase"})),a.createElement("div",{className:"relative flex h-395px items-center justify-center overflow-hidden rounded-[10px]"},e&&(e!=null&&e.imgLink)?a.createElement("img",{className:"absolute h-full max-w-none rounded-xl object-cover",src:e==null?void 0:e.imgLink,alt:e!=null&&e.imgAlt?e==null?void 0:e.imgAlt:"plug image"}):a.createElement(ce,{variant:"card"}),n&&a.createElement(a.Fragment,null,a.createElement(Pe,{onHandleClick:p,isFavourite:i,buttonData:{id:`Add ${e==null?void 0:e.newsUrl} to favourites or remove from them`}}))),a.createElement(Fe,{liveNews:e})),o&&a.createElement(ee,{closeModal:s,modalRef:c},a.createElement($e,{handleDeleteNews:g,newsId:e._id,handleClose:I=>s(I)})))},je=({currentItems:e,currentPage:t})=>{const{isWeatherLoading:n}=B();return a.createElement("ul",{className:"mb-10 max-md:space-y-7 md:mb-12 md:grid md:grid-cols-2 md:gap-[30px] lg:mb-[60px] lg:grid-cols-3 lg:gap-x-8 lg:gap-y-10 hg:gap-10"},t&&t===1&&a.createElement("li",{className:"max-md:h-515px overflow-hidden rounded-[10px] shadow-card transition-colors dark:shadow-darkCard md:col-start-2 lg:col-start-3"},n?a.createElement(M,{variant:"element"}):a.createElement(Be,null)),e&&e.map((o,s)=>a.createElement("li",{key:o.newsUrl,className:`md:w-353px hg:w-442px h-655px md:h-700px relative w-72 overflow-hidden rounded-[10px] shadow-card transition-colors dark:shadow-darkCard lg:w-395px ${s===0&&"md:col-start-1 md:row-start-1 lg:col-start-1"} ${s===1&&"lg:col-start-2 lg:row-start-1"}`},a.createElement(Re,{liveNews:o}))))};export{je as N,ce as P};
