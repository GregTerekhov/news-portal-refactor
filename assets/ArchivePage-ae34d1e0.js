import{h as m,i as u,r as x,R as e,U as y,S as p,c as h,d as v,L as f,A as E}from"./index-074818b7.js";import{N as b,P as N}from"./NewsList-12a40e95.js";import"./images-6e5ebd0f.js";const k=r=>{const t={};return r&&(r==null?void 0:r.length)>0&&r.forEach(l=>{const n=l==null?void 0:l.additionDate;if(n){const s=m(n,"LLLL/yyyy",{locale:u});t[s]||(t[s]=[]),t[s].push(l)}}),t},w=({logData:r})=>{const[t,l]=x.useState(""),n=a=>{console.log(a.target.value);const c=a.target.value;l(c)},s=t?r.filter(a=>a.title.toLowerCase().includes(t.toLowerCase())):r;return e.createElement("div",{className:"flex flex-col mb-6"},e.createElement("div",{className:"-m-1.5 overflow-x-auto"},e.createElement("div",{className:"p-1.5 min-w-full inline-block align-middle"},e.createElement("div",{className:"border rounded-lg divide-y divide-gray-200 dark:border-gray-700 dark:divide-gray-700"},e.createElement("div",{className:"py-3 px-4"},e.createElement("div",{className:"relative max-w-xs"},e.createElement(y,{inputData:{name:"Deleted news",type:"text",value:t,placeholder:"Search for deleted news"},hasIcon:!0,svgName:"icon-search",onChange:a=>n(a),variant:"filterServiceBlock"}))),e.createElement("div",{className:"overflow-hidden"},e.createElement("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-greyBase/[.4]"},e.createElement("thead",{className:"bg-gray-50 dark:bg-greyBase/[.4]"},e.createElement("tr",null,e.createElement("th",{scope:"col",className:"px-6 py-3 text-start text-xs md:text-small font-medium text-greyAlt uppercase"},"Title"),e.createElement("th",{scope:"col",className:"px-6 py-3 text-start text-xs md:text-small font-medium text-greyAlt uppercase"},"Category"),e.createElement("th",{scope:"col",className:"px-6 py-3 text-start text-xs  md:text-small font-medium text-greyAlt uppercase"},"Addition Date"),e.createElement("th",{scope:"col",className:"px-6 py-3 text-start text-xs md:text-small font-medium text-greyAlt uppercase"},"Deletion Date"))),e.createElement("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700"},s&&s.map(({title:a,newsUrl:c,category:i,additionDate:o,deletionDate:d})=>e.createElement("tr",{key:c},e.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-darkBase dark:text-whiteBase"},e.createElement("a",{href:c,target:"_blank",className:" hover:text-accentBase transition-colors duration-500"},a.length>60?`${a.slice(0,65)}...`:a)),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-darkBase dark:text-whiteBase"},i),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-darkBase dark:text-whiteBase"},m(o,"dd/MM/yyyy")),e.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-darkBase dark:text-whiteBase"},m(d,"dd/MM/yyyy"))))))),e.createElement("div",{className:"py-1 px-4"},e.createElement("nav",{className:"flex items-center space-x-1"},e.createElement("button",{type:"button",className:"p-2.5 inline-flex items-center gap-x-2 text-sm rounded-full text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"},e.createElement("span",{"aria-hidden":"true"},e.createElement(p,{svgName:"icon-arrow-left",size:20,className:"fill-accentBase dark:fill-whiteBase"})),e.createElement("span",{className:"sr-only"},"Previous")),e.createElement("button",{type:"button",className:"min-w-[40px] flex justify-center items-center text-gray-800 hover:bg-gray-100 py-2.5 text-sm rounded-full disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10","aria-current":"page"},"1"),e.createElement("button",{type:"button",className:"min-w-[40px] flex justify-center items-center text-gray-800 hover:bg-gray-100 py-2.5 text-sm rounded-full disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10"},"2"),e.createElement("button",{type:"button",className:"min-w-[40px] flex justify-center items-center text-gray-800 hover:bg-gray-100 py-2.5 text-sm rounded-full disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10"},"3"),e.createElement("button",{type:"button",className:"p-2.5 inline-flex items-center gap-x-2 text-sm rounded-full text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-gray-600"},e.createElement("span",{className:"sr-only"},"Next"),e.createElement("span",{"aria-hidden":"true"},e.createElement(p,{svgName:"icon-arrow-left",size:20,className:"fill-accentBase dark:fill-whiteBase rotate-180"})))))))))},D=()=>{const{isLoadingDBData:r,allArchive:t,archiveHistoryLog:l,getHistoryLog:n,getArchives:s}=h(),{isAuthenticated:a}=v();x.useEffect(()=>{s(),n()},[s,n]),console.log("allArchive",t);const c=k(t),i=r,o=!r&&t.length!==0;return a&&e.createElement(e.Fragment,null,i&&e.createElement(f,{variant:"generalSection"}),o&&e.createElement(e.Fragment,null,e.createElement(w,{logData:l}),Object.entries(c).map(([d,g])=>e.createElement(E,{key:d,dateSeparator:d,position:"archivePage"},e.createElement(b,{currentItems:g})))),!i&&!o&&e.createElement(N,{variant:"page"}))};export{D as default};
