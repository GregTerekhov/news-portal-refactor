import{r,c as D,R as a,L as E,A as v}from"./index-a800bb5a.js";import{N as L,P as S}from"./NewsList-dc29a3f3.js";const A=()=>{const[s,n]=r.useState(!1),{allReads:e,isLoadingDBData:c,savedNews:i,getReads:u,addVotedNews:p}=D();r.useEffect(()=>{u()},[u]),r.useLayoutEffect(()=>{s&&i&&(p(i),n(!1))},[s,p]);const g=()=>{n(!0)},h=e==null?void 0:e.map(t=>t.publishDate).filter(t=>t!==void 0),f=new Set(h),l=Array.from(f).sort().reverse(),m=c,d=!c&&e&&(e==null?void 0:e.length)!==0;return a.createElement(a.Fragment,null,m&&a.createElement(E,{variant:"page"}),d&&a.createElement("div",null,l.map(t=>a.createElement(v,{key:t,dateSeparator:t,position:"readPage"},a.createElement(L,{onChange:g,currentItems:e==null?void 0:e.filter(o=>(o==null?void 0:o.publishDate)!==void 0&&(o==null?void 0:o.publishDate)===t)})))),!m&&!d&&(e==null?void 0:e.length)===0&&a.createElement(S,{variant:"page"}))};export{A as default};
