import{r,c as f,b as E,R as t,L as D,N as v,A as S}from"./index-ffd66035.js";import{N as b,P as L}from"./NewsList-8cc6d146.js";import"./images-f5805423.js";const A=()=>{const[n,c]=r.useState(!1),{allReads:e,isLoadingDBData:d,getReads:i}=f(),{hasResults:l}=E();r.useEffect(()=>{i()},[i]),r.useEffect(()=>{e&&(c(!0),console.log("openToast",n))},[e]);const m=e==null?void 0:e.map(o=>o.publishDate).filter(o=>o!==void 0),p=new Set(m),g=Array.from(p).sort().reverse(),s=d||l==="loading",u=e.length===0||l==="empty",h=!s&&!u;return t.createElement(t.Fragment,null,s&&t.createElement(D,{variant:"generalSection"}),!s&&e&&t.createElement(v,{variant:"non-interactive",openToast:n,setOpenToast:c,title:"Monthly statistics",description:`${e.length} news added to Reads`}),h&&t.createElement("div",null,g.map(o=>t.createElement(S,{key:o,dateSeparator:o,position:"readPage"},t.createElement(b,{currentItems:e==null?void 0:e.filter(a=>(a==null?void 0:a.publishDate)!==void 0&&(a==null?void 0:a.publishDate)===o)})))),!s&&u&&t.createElement(L,{variant:"page"}))};export{A as default};
